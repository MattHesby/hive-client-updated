{"filter":false,"title":"server.js","tooltip":"/server.js","undoManager":{"mark":41,"position":41,"stack":[[{"start":{"row":32,"column":55},"end":{"row":33,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":33,"column":0},"end":{"row":33,"column":1},"action":"insert","lines":["c"],"id":3}],[{"start":{"row":33,"column":1},"end":{"row":33,"column":2},"action":"insert","lines":["o"],"id":4}],[{"start":{"row":33,"column":2},"end":{"row":33,"column":3},"action":"insert","lines":["n"],"id":5}],[{"start":{"row":33,"column":3},"end":{"row":33,"column":4},"action":"insert","lines":["s"],"id":6}],[{"start":{"row":33,"column":4},"end":{"row":33,"column":5},"action":"insert","lines":["o"],"id":7}],[{"start":{"row":33,"column":5},"end":{"row":33,"column":6},"action":"insert","lines":["l"],"id":8}],[{"start":{"row":33,"column":6},"end":{"row":33,"column":7},"action":"insert","lines":["e"],"id":9}],[{"start":{"row":33,"column":7},"end":{"row":33,"column":8},"action":"insert","lines":["."],"id":10}],[{"start":{"row":33,"column":8},"end":{"row":33,"column":9},"action":"insert","lines":["l"],"id":11}],[{"start":{"row":33,"column":9},"end":{"row":33,"column":10},"action":"insert","lines":["o"],"id":12}],[{"start":{"row":33,"column":10},"end":{"row":33,"column":11},"action":"insert","lines":["g"],"id":13}],[{"start":{"row":33,"column":11},"end":{"row":33,"column":13},"action":"insert","lines":["()"],"id":14}],[{"start":{"row":33,"column":12},"end":{"row":33,"column":13},"action":"insert","lines":["r"],"id":15}],[{"start":{"row":33,"column":13},"end":{"row":33,"column":14},"action":"insert","lines":["e"],"id":16}],[{"start":{"row":33,"column":14},"end":{"row":33,"column":15},"action":"insert","lines":["p"],"id":17}],[{"start":{"row":33,"column":15},"end":{"row":33,"column":16},"action":"insert","lines":["l"],"id":18}],[{"start":{"row":33,"column":16},"end":{"row":33,"column":17},"action":"insert","lines":["a"],"id":19}],[{"start":{"row":33,"column":17},"end":{"row":33,"column":18},"action":"insert","lines":["y"],"id":20}],[{"start":{"row":33,"column":19},"end":{"row":33,"column":20},"action":"insert","lines":[";"],"id":21}],[{"start":{"row":9,"column":20},"end":{"row":9,"column":21},"action":"remove","lines":["0"],"id":22}],[{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"remove","lines":["5"],"id":23}],[{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"insert","lines":["4"],"id":24}],[{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"remove","lines":["4"],"id":25}],[{"start":{"row":9,"column":18},"end":{"row":9,"column":19},"action":"remove","lines":[" "],"id":26}],[{"start":{"row":9,"column":18},"end":{"row":9,"column":19},"action":"insert","lines":["1"],"id":27}],[{"start":{"row":9,"column":18},"end":{"row":9,"column":19},"action":"remove","lines":["1"],"id":28}],[{"start":{"row":9,"column":18},"end":{"row":9,"column":19},"action":"insert","lines":[" "],"id":29}],[{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"insert","lines":["1"],"id":30}],[{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"remove","lines":["1"],"id":31}],[{"start":{"row":9,"column":19},"end":{"row":9,"column":20},"action":"insert","lines":["5"],"id":32}],[{"start":{"row":9,"column":20},"end":{"row":9,"column":21},"action":"insert","lines":["5"],"id":33}],[{"start":{"row":33,"column":0},"end":{"row":33,"column":20},"action":"remove","lines":["console.log(replay);"],"id":34}],[{"start":{"row":32,"column":55},"end":{"row":33,"column":0},"action":"remove","lines":["",""],"id":35}],[{"start":{"row":0,"column":0},"end":{"row":627,"column":0},"action":"remove","lines":["/*","To push to github:","git status  // tells current status of files","git add // Adds changed files to record.  -A will add all files","git commit -m \"message\" // commits changes to be pushed","git push // pushes all changes to github","*/","","const PLAYER_NUMBER = 4; //Keep this as 4.","const GAME_SPEED = 55; //Reccomended: 50-70 for good game visibility and speed. Speed unit of the game in milliseconds","const turnCount = 1000; //Reccomended: 1000 - 1500 for reasonable game time length. How many turns in a game. One turn is one player moving.","const randomMap = true; //Reccomended: true. This decides whether the map is randomely generated or not. Randomely generated maps are symmetrical. If this is false, then a map will be chosen from maps.json, predrawn maps.","","//Import node modules","var fs = require(\"fs\")","var http = require('http');","var path = require('path');","var PF = require('pathfinding');","var async = require('async');","var socketio = require('socket.io');","var express = require('express');","var PF = require('pathfinding');","var app = express();","","","","var games = [];","var queueSockets = [];","var gameRunning = false;","var gameData = [{}, {}, {}, {}, {}];","var playerData = JSON.parse(fs.readFileSync(\"playerData.json\"));","var maps = JSON.parse(fs.readFileSync(\"maps.json\"))","var replay = JSON.parse(fs.readFileSync(\"replay.json\"))","var router = express();","var server = http.createServer(router);","var io = socketio.listen(server);","","router.use(express.static(path.resolve(__dirname, 'client')));","//5 Socket arrays to hold 4 socket connections per game, and there are 5 games max at once","var sockets = [","    [],","    [],","    [],","    [],","    []","];","","var displays = [];","var cnt = 0;","var colors = [\"orange\", \"red\", \"blue\", \"green\"]; // Player colors","","class Player { //Player constructor","    constructor(name, count, gameId, elo) {","        this.id = count;","        this.color = colors[count]","        this.name = name;","        this.pollen = 0;","        this.pos = [];","        this.pos.push(games[gameId].bases[count].pos[0]);","        this.pos.push(games[gameId].bases[count].pos[1]);","        this.elo = elo;","        this.dir = \"\";","    }","}","","","//Game function","function Game(gameId) {","    this.totalTurns = turnCount; //This should alawys be a multiple of the player number!","    this.running = false;","    this.gameId = gameId;","    this.map = \"\";","    this.players = [];","    this.idTurn = 0;","    this.turn = 0;","    this.socketIndex;","    //  let mapNum = Math.floor(Math.random() * maps.length);","    let mapNum = 0;","    this.mapNumber = mapNum;","    this.bases = generateBases();","    this.barricades = generateBarricades(mapNum, this.bases);","    if (reachable(this.bases[0].pos, this.bases[1].pos, this.barricades).length <= 1 || reachable(this.bases[0].pos, this.bases[3].pos, this.barricades) <= 1) {","        let blockArr = reachable(this.bases[0].pos, this.bases[1].pos, []).concat(reachable(this.bases[1].pos, this.bases[2].pos, [])).concat(reachable(this.bases[2].pos, this.bases[3].pos, [])).concat(reachable(this.bases[3].pos, this.bases[0].pos, []));","        for (let i = 0; i < blockArr.length; i++) {","            for (let j = 0; j < this.barricades.length; j++) {","                if (this.barricades[j][0] == blockArr[i][0] && this.barricades[j][1] == blockArr[i][1]) {","                    this.barricades.splice(j, 1);","                }","            }","        }","    }","","    this.flowers = generateNodes(this.bases, this.barricades, mapNum);","    //GENERATE NODES, THEN BASES KTHE NBARRICADES. HAVE A SUQARE FROM ALL THE BASES OFMOFO","","}","//create 5 instances of the game function","games.push(new Game(games.length));","games.push(new Game(games.length));","games.push(new Game(games.length));","games.push(new Game(games.length));","games.push(new Game(games.length));","","io.on('connection', function(socket) { // When a new player is registered, add them to the database after checking the same username doesn't exist.","    socket.on(\"newPlayer\", function(obj) {","        console.log(\"Player requesting to register! Username: \" + obj.username + \", key: \" + obj.key)","        var hasUserName = false;","        for (let player in playerData) {","            if (playerData[player].username == obj.username || player == obj.key) {","                console.log(\"Registration denied, username exists.\")","                hasUserName = true;","            }","        }","","        if (obj.username == \"\" || obj.username === null) {","            hasUserName = true;","            console.log(\"Registration denied, username is null.\");","        }","        if (!hasUserName) {","            playerData[obj.key] = { username: obj.username, score: 100 }","            fs.writeFileSync(\"playerData.json\", JSON.stringify(playerData, null, 2))","            console.log(\"Registration authorized, user has been added to the playerDatabase!\");","        }","    })","    /* @Desc: Takes new direction from player and determines new position","     * @Params: data{} - dir(srt): direction chosen by player - name(str): name of player sending data","     */","    socket.on(\"rerunGame\", function(num) {","","        socket.emit(\"rerunGameData\", replay.games[num])","    })","    socket.on(\"new direction\", function(data) {","        //checking the game turn is still on the player who sent this direction. If it's not, the direction sent is disregarded.  ","        if (data.id == games[data.gameId].idTurn) {","            //changing the player's position based on the string, also making sure they're not going off the map or into a barricade.","            if (data.dir == \"north\" && games[data.gameId].players[data.id].pos[1] > 0 && checkCollide(games[data.gameId].players[data.id].pos[0], games[data.gameId].players[data.id].pos[1] - 1, games[data.gameId])) {","                games[data.gameId].players[data.id].pos[1]--;","            }","            else if (data.dir == \"east\" && games[data.gameId].players[data.id].pos[0] <= 18 && checkCollide(games[data.gameId].players[data.id].pos[0] + 1, games[data.gameId].players[data.id].pos[1], games[data.gameId])) {","                games[data.gameId].players[data.id].pos[0]++;","            }","            else if (data.dir == \"south\" && games[data.gameId].players[data.id].pos[1] <= 18 && checkCollide(games[data.gameId].players[data.id].pos[0], games[data.gameId].players[data.id].pos[1] + 1, games[data.gameId])) {","                games[data.gameId].players[data.id].pos[1]++;","            }","            else if (data.dir == \"west\" && games[data.gameId].players[data.id].pos[0] > 0 && checkCollide(games[data.gameId].players[data.id].pos[0] - 1, games[data.gameId].players[data.id].pos[1], games[data.gameId])) {","                games[data.gameId].players[data.id].pos[0]--;","            }","            games[data.gameId].players[games[data.gameId].idTurn].dir = data.dir;","        }","","","","    });","    //Runs when someone connects to the display website","    socket.on(\"display\", function() {","        displays.push(socket)","        //Sending name data for selection for replaying games","        let stringArr = [];","        let tempStr = \"\";","        for (let thing in replay.games) {","            tempStr = \"\";","            for (let i in replay.games[thing].players) {","                tempStr += replay.games[thing].players[i].name + \", \";","            }","            tempStr = tempStr.substring(0, tempStr.length - 2);","            if (replay.games[thing].winnerId != \"tie\") {","                tempStr += \" | Winner: \" + replay.games[thing].players[replay.games[thing].winnerId].name;","            }","            else {","                tempStr += \" | Winner: Tie\"","            }","            if (tempStr.length > 0) {","                stringArr.push(tempStr);","            }","        }","","","        var mostWins = [];","        for (var player in playerData) {","            mostWins.push([playerData[player].username, playerData[player].score]);","        }","        mostWins.sort(function(a, b) {","            return b[1] - a[1];","        });","","","","","        socket.emit(\"replayNames\", { \"rerunStr\": stringArr, \"scoreArray\": JSON.stringify(mostWins) })","        socket.emit(\"queue\", games);","    })","    socket.on(\"name\", function(key) {","        console.log(\"user :\" + key + \" connected\")","        //making sure the key is a key in the database.","        let tempname = checkKey(key);","        if (tempname) { //tempname is either false if authentification failed, or it is the name that associates with the key.","            socket.playerName = tempname.name;","            socket.elo = tempname.elo;","            queueSockets.push(socket);","","            queueSockets.push(socket);","            queueSockets.push(socket);","            queueSockets.push(socket);","","            if (queueSockets.length >= PLAYER_NUMBER && !gameRunning) {","                /* 1. Shifts queud players into sockets ","                 * 2. Creates Players in game object","                 * 3. Starts running game","                 * 4. sets gameRunning to true","                 */","                startGame(queueSockets);","            }","        }","        else {","            console.log(\"player not found, or already connected?\")","        }","","    })","});","","//Pass the array to go through as a parameter.","function broadcast(event, data, arr) {","    arr.forEach(function(socket) {","        socket.emit(event, data);","    });","}","","","server.listen(process.env.PORT || 3000, process.env.IP || \"0.0.0.0\", function() {","    var addr = server.address();","    console.log(\"Server listening at\", addr.address + \":\" + addr.port);","});","","function resetGame(gameToReset) {","","    var energyArr = [];","    var winner = gameToReset.bases[0];","    for (var i = 0; i < gameToReset.bases.length; i++) {","        if (winner.pollen < gameToReset.bases[i].pollen) {","            winner = gameToReset.bases[i];","        }","        energyArr.push(gameToReset.bases[i].pollen);","    }","    energyArr = energyArr.sort(function(a, b) { return b - a; });","    //checking there isn't a tie between players","    if (energyArr[0] != energyArr[1]) {","        broadcast(\"endGame\", { \"winner\": gameToReset.players[winner.id], \"base\": winner, \"gameId\": gameToReset.gameId }, sockets[gameToReset.gameId])","        broadcast(\"endGame\", { \"winner\": gameToReset.players[winner.id], \"base\": winner, \"gameId\": gameToReset.gameId }, displays)","        addWin(gameToReset.players[winner.id].name)","        gameData[gameToReset.gameId].winnerId = winner.id;","    }","    else {","        gameData[gameToReset.gameId].winnerId = \"tie\";","        broadcast(\"endGame\", { \"winner\": \"tie\", \"gameId\": gameToReset.gameId }, sockets[gameToReset.gameId])","        broadcast(\"endGame\", { \"winner\": \"tie\", \"gameId\": gameToReset.gameId }, displays)","    }","","","    console.log(\"Game \" + gameToReset.gameId + \" has ended, and player \" + winner.id + \"(\" + gameToReset.players[winner.id].name + \") won! \");","","    console.log(\"Adding the turn data to the replay database.\");","    replay.games.push(JSON.parse(JSON.stringify(gameData[gameToReset.gameId])));","","    while (replay.games.length > 20) {","        replay.games.shift();","    }","    fs.writeFileSync(\"replay.json\", JSON.stringify(replay))","    gameData[gameToReset.gameId] = {};","","","    gameToReset.players.length = 0;","    sockets[gameToReset.gameId].length = 0;","","    games[gameToReset.gameId] = new Game(games.length);","    if (queueSockets.length >= PLAYER_NUMBER) {","        startGame(queueSockets)","    }","    else {","        gameToReset.running = false;","    }","}","","function startGame(queued) {","    console.log(\"startGame running\");","    let ind;","","    for (let i = 0; i < games.length; i++) {","        if (!games[i].running) {","            ind = i;","            break;","        }","    }","","","    console.log(\"Game \" + ind + \" starting!\");","    games[ind].gameId = ind;","    for (var i = 0; i < PLAYER_NUMBER; i++) {","        var oi = queued.shift();","        sockets[ind].push(oi);","        games[ind].players.push(new Player(oi.playerName, games[ind].players.length, games[ind].gameId, oi.elo));","    }","    games[ind].idTurn = 0;","    games[ind].running = true;","    broadcast(\"queue\", \"There are \" + games[ind].players.length + \" people connencted.\", sockets[ind]);","    broadcast(\"queue\", games, displays);","    broadcast(\"gameStart\", games[ind], sockets[ind]);","    gameData[ind].turns = [];","    gameData[ind].players = JSON.parse(JSON.stringify(games[ind].players));","    gameData[ind].bases = JSON.parse(JSON.stringify(games[ind].bases))","    gameData[ind].flowers = JSON.parse(JSON.stringify(games[ind].flowers))","    gameData[ind].barricades = JSON.parse(JSON.stringify(games[ind].barricades))","    // gameData[ind].teleport = [];","    gameData[ind].pollen = [];","","","    var loop = setInterval(function() {","        if (games[ind].turn == games[ind].totalTurns + PLAYER_NUMBER) {","            broadcast(\"draw\", games, displays);","            clearInterval(loop)","            resetGame(games[ind])","","        }","        else {","","            games[ind].idTurn = games[ind].turn % games[ind].players.length;","","","","            //Adding position information to add to the database for replays","            let posGameData = games[ind].players[games[ind].idTurn].pos;","            // gameData[ind].turns.push(JSON.parse(JSON.stringify(posGameData)));","","            gameData[ind].turns.push(JSON.parse(JSON.stringify(posGameData)));","","            let turnData = {","                \"bases\": [games[ind].bases[0].pollen, games[ind].bases[1].pollen, games[ind].bases[2].pollen, games[ind].bases[3].pollen],","                \"players\": [games[ind].players[0].pollen, games[ind].players[1].pollen, games[ind].players[2].pollen, games[ind].players[3].pollen]","            }","","            // if(gameData[ind].idTurn == ind % 4){","            gameData[ind].pollen.push(JSON.parse(JSON.stringify(turnData)));","            // }","            //adding energy to nodes","            if (games[ind].turn % 4 == 0) {","                for (var i = 0; i < games[ind].flowers.length; i++) {","                    games[ind].flowers[i].pollen++;","                }","            }","","            //checking player collision with nodes","            for (var i = 0; i < games[ind].flowers.length; i++) {","                if (games[ind].players[games[ind].idTurn].pos[1] == games[ind].flowers[i].pos[1] && games[ind].players[games[ind].idTurn].pos[0] == games[ind].flowers[i].pos[0]) {","                    games[ind].players[games[ind].idTurn].pollen += games[ind].flowers[i].pollen;","                    games[ind].flowers[i].pollen = 0;","                }","            }","","","            playerCollide(ind) //checks player collision","            checkBase(ind)","","","            games[ind].myBot = games[ind].players[games[ind].idTurn];","            games[ind].myBase = games[ind].bases[games[ind].idTurn];","","","            broadcast(\"draw\", games, displays);","            sockets[ind][games[ind].idTurn].emit(\"update\", games[ind]);","","            games[ind].turn++;","        }","","    }, GAME_SPEED);","}","","// Changes ELO based on win/lose","function addWin(userName, playersInGame) {","    // Check against playerData in database","    for (let thing in playerData) {","        // Gain 15 points if you win","        if (playerData[thing].username == userName) {","            playerData[thing].score += 15;","        }","        // Lose 5 points if you lose","        else if (playerData[thing].userName != userName && (playerData[thing].userName == playersInGame[0].userName || playerData[thing].userName == playersInGame[1].userName || playerData[thing].userName == playersInGame[2].userName || playerData[thing].userName == playersInGame[3].userName)) {","            playerData[thing].score -= 5;","            if (playerData[thing].score < 0) {","                playerData[thing].score = 0;","            }","        }","    }","    // Save changes to playerData","    fs.writeFileSync(\"playerData.json\", JSON.stringify(playerData, null, 2))","}","","","","function checkKey(key) {","    let arr = Object.keys(playerData)","    for (let i = 0; i < arr.length; i++) {","        if (key == arr[i]) {","","            for (let j = 0; j < queueSockets.length; j++) {","                if (playerData[key].username == queueSockets[j].playerName) {","                    return false;","                }","            }","            for (let thing in games) {","                if (games[thing].players.length > 0) {","                    for (var j = 0; j < games[thing].players.length; j++) {","                        if (playerData[key].username == games[thing].players[j].name) {","                            return false;","","                        }","                    }","                }","            }","","","            return { \"name\": playerData[key].username, \"elo\": playerData[key].score };","        }","    }","    return false;","","}","","function checkCollide(x, y, game) {","    for (var i = 0; i < game.barricades.length; i++) {","        if (game.barricades[i][0] == x && game.barricades[i][1] == y) {","            return false;","        }","    }","    return true;","}","","function checkBase(gameId) {","    let energyStolen = false;","    let playerInd;","    let baseInd;","    let energyGained;","","    for (var i = 0; i < games[gameId].players.length; i++) {","","","        for (var j = 0; j < games[gameId].players.length; j++) {","            if (j != i) {","                if (games[gameId].players[j].pos[1] == games[gameId].bases[i].pos[1] && games[gameId].players[j].pos[0] == games[gameId].bases[i].pos[0]) {","                    if (games[gameId].bases[i].pollen >= 2) {","","                        energyGained = 2;","","                    }","                    else {","                        energyGained = games[gameId].bases[i].pollen;","                    }","","                    if (games[gameId].players[i].pos[0] == games[gameId].players[j].pos[0] && games[gameId].players[i].pos[1] == games[gameId].players[j].pos[1]) {","                        games[gameId].bases[i].pollen += games[gameId].players[j].pollen;","                        games[gameId].players[j].pollen = 0;","                        games[gameId].players[j].pos[0] = games[gameId].bases[j].pos[0];","                        games[gameId].players[j].pos[1] = games[gameId].bases[j].pos[1];","                        energyGained = 0;","                    }","                    energyStolen = true;","","","                    playerInd = j;","                    baseInd = i;","","","                }","            }","        }","        if (games[gameId].players[i].pos[1] == games[gameId].bases[i].pos[1] && games[gameId].players[i].pos[0] == games[gameId].bases[i].pos[0]) {","            games[gameId].bases[i].pollen += games[gameId].players[i].pollen","            games[gameId].players[i].pollen = 0;","        }","    }","","    if (energyStolen) {","","        games[gameId].players[playerInd].pollen += energyGained;","        games[gameId].bases[baseInd].pollen -= energyGained;","    }","}","","function playerCollide(ind) {","    for (var i = 0; i < games[ind].players.length; i++) {","        for (let j = 0; j < games[ind].players.length; j++) {","            if (j != i) {","                const avg = games[ind].players[i].pollen + games[ind].players[j].pollen;","                if ((games[ind].players[j].pos[1] != games[ind].bases[i].pos[1] && games[ind].players[j].pos[0] != games[ind].bases[i].pos[0])) {","                    if (games[ind].players[i].pos[1] == games[ind].players[j].pos[1] && games[ind].players[i].pos[0] == games[ind].players[j].pos[0]) {","                        if (games[ind].players[i].pollen > games[ind].players[j].pollen) {","                            games[ind].players[i].pollen = Math.ceil(avg / 2)","                            games[ind].players[j].pollen = Math.floor(avg / 2)","                        }","                        else if (games[ind].players[i].pollen < games[ind].players[j].pollen) {","                            games[ind].players[j].pollen = Math.ceil(avg / 2)","                            games[ind].players[i].pollen = Math.floor(avg / 2)","                        }","                    }","                }","","            }","        }","    }","}","","function generateBases() {","    let bases = [{ pos: [1, 1], pollen: 0, id: 0 }, { pos: [18, 1], pollen: 0, id: 1 }, { pos: [1, 18], pollen: 0, id: 2 }, { pos: [18, 18], pollen: 0, id: 3 }];","    if (randomMap) {","        let r = [Math.ceil(Math.random() * 18), Math.ceil(Math.random() * 18)]","        let arr = mirrorPos(r);","        bases[0].pos = arr[0];","        bases[1].pos = arr[1];","        bases[2].pos = arr[2];","        bases[3].pos = arr[3];","    }","    return bases;","}","","","function mirrorPos(initPos) { // given a position, return an array with that position mirroed across all quadrants.","    let arr = [];","    arr.push(initPos)","    let tempPos = JSON.parse(JSON.stringify(initPos));","    tempPos[0] = Math.abs(19 - tempPos[0]);","    arr.push(JSON.parse(JSON.stringify(tempPos)));","    tempPos[1] = Math.abs(19 - tempPos[1]);","    arr.push(JSON.parse(JSON.stringify(tempPos)));","    tempPos = JSON.parse(JSON.stringify(initPos));","    tempPos[1] = Math.abs(19 - tempPos[1]);","    arr.push(JSON.parse(JSON.stringify(tempPos)));","    return arr;","}","","function generateNodes(bases, barricades, mapNum) {","    if (!randomMap) {","        return JSON.parse(JSON.stringify(maps[mapNum].flowers));","    }","    let nodeNum = (Math.ceil(Math.random() * 4));","    let nodeArr = [];","","    for (let i = 0; i < nodeNum; i++) {","        let tempPos = [Math.floor(Math.random() * 20), Math.floor(Math.random() * 20)];","","        for (let j = 0; j < bases.length; j++) {","            if (tempPos[0] == bases[j][0] && tempPos[1] == bases[j][1]) {","                tempPos = [Math.floor(Math.random() * 20), Math.floor(Math.random() * 20)];","                j = 0;","            }","        }","        for (let i = 0; i < nodeArr.length; i++) {","            if (tempPos[0] == nodeArr[i][0] && tempPos[1] == nodeArr[i][1]) {","                tempPos = [Math.floor(Math.random() * 20), Math.floor(Math.random() * 20)];","                i = 0;","            }","        }","        for (let j = 0; j < barricades.length; j++) {","            if (tempPos[0] == barricades[j][0] && tempPos[1] == barricades[j][1]) {","                tempPos = [Math.floor(Math.random() * 20), Math.floor(Math.random() * 20)];","                j = 0;","            }","        }","        for (let n = 0; n < bases.length; n++) {","            var onBase = false;","            if (tempPos[0] == bases[n].pos[0] && tempPos[1] == bases[n].pos[1]) {","                onBase = true;","            }","        }","","        if (reachable(bases[0].pos, tempPos, barricades).length <= 1 || onBase) {","            i--;","        }","        else {","","            let mirrorPoss = mirrorPos(tempPos);","            nodeArr.push({ pollen: 0, pos: mirrorPoss[0] });","            nodeArr.push({ pollen: 0, pos: mirrorPoss[1] });","            nodeArr.push({ pollen: 0, pos: mirrorPoss[2] });","            nodeArr.push({ pollen: 0, pos: mirrorPoss[3] });","        }","    }","    return nodeArr;","}","","function generateBarricades(mapNum, bases) {","    // console.log(\"bases: \" + bases)","    let arr = [];","    if (!randomMap) {","        return (JSON.parse(JSON.stringify(maps[mapNum].barricades)))","    }","    let barricadeNum = (Math.ceil(Math.random() * 20)) + 30;","    for (let j = 0; j < barricadeNum; j++) {","        let r = [Math.floor(Math.random() * 20), Math.floor(Math.random() * 20)];","        for (let i = 0; i < bases.length; i++) {","            if (r[0] == bases[i].pos[0] && r[1] == bases[i].pos[1]) {","                r = [Math.floor(Math.random() * 20), Math.floor(Math.random() * 20)];","                i = 0;","            }","        }","","","","        let mirrorPoss = mirrorPos(r)","        arr.push(mirrorPoss[0])","        arr.push(mirrorPoss[1])","        arr.push(mirrorPoss[2])","        arr.push(mirrorPoss[3])","    }","","","    return arr;","}","","function reachable(pos1, pos2, barricades) {","    var grid = new PF.Grid(20, 20);","    grid.setWalkableAt(pos1[0], pos1[1], true);","    grid.setWalkableAt(pos2[0], pos2[1], true);","    for (let i = 0; i < barricades.length; i++) {","        grid.setWalkableAt(barricades[i][0], barricades[i][1], false)","    }","    var finder = new PF.AStarFinder();","    var path = finder.findPath(pos1[0], pos1[1], pos2[0], pos2[1], grid);","    return path;","}",""],"id":36},{"start":{"row":0,"column":0},"end":{"row":626,"column":0},"action":"insert","lines":["/*","To push to github:","git status  // tells current status of files","git add // Adds changed files to record.  -A will add all files","git commit -m \"message\" // commits changes to be pushed","git push // pushes all changes to github","*/","","const PLAYER_NUMBER = 4; //Keep this as 4.","const GAME_SPEED = 75; //Reccomended: 50-70 for good game visibility and speed. Speed unit of the game in milliseconds","const turnCount = 1000; //Reccomended: 1000 - 1500 for reasonable game time length. How many turns in a game. One turn is one player moving.","const randomMap = true; //Reccomended: true. This decides whether the map is randomely generated or not. Randomely generated maps are symmetrical. If this is false, then a map will be chosen from maps.json, predrawn maps.","const baseStealEnergy = 10; // The Amount of Energy Stolen from another player's base  Higher means more aggressive play ","const MAP_SIZE = 20; // Determines width and height of the map","const FLOWER_ADD = 4; // Increases the number of flowers on the map","","//Import node modules","var fs = require(\"fs\")","var http = require('http');","var path = require('path');","var PF = require('pathfinding');","var async = require('async');","var socketio = require('socket.io');","var express = require('express');","var PF = require('pathfinding');","var app = express();","","","","var games = [];","var queueSockets = [];","var gameRunning = false;","var gameData = [{}, {}, {}, {}, {}];","var playerData = JSON.parse(fs.readFileSync(\"playerData.json\"));","var maps = JSON.parse(fs.readFileSync(\"maps.json\"))","var replay = JSON.parse(fs.readFileSync(\"replay.json\"))","var router = express();","var server = http.createServer(router);","var io = socketio.listen(server);","","router.use(express.static(path.resolve(__dirname, 'client')));","//5 Socket arrays to hold 4 socket connections per game, and there are 5 games max at once","var sockets = [","  [],","  [],","  [],","  [],","  []","];","","var displays = [];","var cnt = 0;","var colors = [\"orange\", \"red\", \"blue\", \"green\"]; // Player colors","","class Player { //Player constructor","  constructor(name, count, gameId, elo) {","    this.id = count;","    this.color = colors[count]","    this.name = name;","    this.pollen = 0;","    this.pos = [];","    this.pos.push(games[gameId].bases[count].pos[0]);","    this.pos.push(games[gameId].bases[count].pos[1]);","    this.elo = elo;","    this.dir = \"\";","  }","}","","","//Game function","function Game(gameId) {","  this.totalTurns = turnCount; //This should alawys be a multiple of the player number!","  this.running = false;","  this.gameId = gameId;","  this.map = \"\";","  this.players = [];","  this.idTurn = 0;","  this.turn = 0;","  this.mapSize = MAP_SIZE;","  this.socketIndex;","  //  let mapNum = Math.floor(Math.random() * maps.length);","  let mapNum = 0;","  this.mapNumber = mapNum;","  this.bases = generateBases();","  this.barricades = generateBarricades(mapNum, this.bases);","  if (reachable(this.bases[0].pos, this.bases[1].pos, this.barricades).length <= 1 || reachable(this.bases[0].pos, this.bases[3].pos, this.barricades) <= 1) {","    let blockArr = reachable(this.bases[0].pos, this.bases[1].pos, []).concat(reachable(this.bases[1].pos, this.bases[2].pos, [])).concat(reachable(this.bases[2].pos, this.bases[3].pos, [])).concat(reachable(this.bases[3].pos, this.bases[0].pos, []));","    for (let i = 0; i < blockArr.length; i++) {","      for (let j = 0; j < this.barricades.length; j++) {","        if (this.barricades[j][0] == blockArr[i][0] && this.barricades[j][1] == blockArr[i][1]) {","          this.barricades.splice(j, 1);","        }","      }","    }","  }","","  this.flowers = generateNodes(this.bases, this.barricades, mapNum);","  //GENERATE NODES, THEN BASES KTHE NBARRICADES. HAVE A SUQARE FROM ALL THE BASES OFMOFO","","}","//create 5 instances of the game function","games.push(new Game(games.length));","games.push(new Game(games.length));","games.push(new Game(games.length));","games.push(new Game(games.length));","games.push(new Game(games.length));","","io.on('connection', function(socket) { // When a new player is registered, add them to the database after checking the same username doesn't exist.","  socket.on(\"newPlayer\", function(obj) {","    console.log(\"Player requesting to register! Username: \" + obj.username + \", key: \" + obj.key)","    var hasUserName = false;","    for (let player in playerData) {","      if (playerData[player].username == obj.username || player == obj.key) {","        console.log(\"Registration denied, username exists.\")","        hasUserName = true;","      }","    }","","    if (obj.username == \"\" || obj.username === null) {","      hasUserName = true;","      console.log(\"Registration denied, username is null.\");","    }","    if (!hasUserName) {","      playerData[obj.key] = { username: obj.username, score: 100 }","      fs.writeFileSync(\"playerData.json\", JSON.stringify(playerData, null, 2))","      console.log(\"Registration authorized, user has been added to the playerDatabase!\");","    }","  })","  /* @Desc: Takes new direction from player and determines new position","   * @Params: data{} - dir(srt): direction chosen by player - name(str): name of player sending data","   */","  socket.on(\"rerunGame\", function(num) {","","    socket.emit(\"rerunGameData\", replay.games[num])","  })","  socket.on(\"new direction\", function(data) {","    //checking the game turn is still on the player who sent this direction. If it's not, the direction sent is disregarded.  ","    if (data.id == games[data.gameId].idTurn) {","      //changing the player's position based on the string, also making sure they're not going off the map or into a barricade.","      if (data.dir == \"north\" && games[data.gameId].players[data.id].pos[1] > 0 && checkCollide(games[data.gameId].players[data.id].pos[0], games[data.gameId].players[data.id].pos[1] - 1, games[data.gameId])) {","        games[data.gameId].players[data.id].pos[1]--;","      }","      else if (data.dir == \"east\" && games[data.gameId].players[data.id].pos[0] <= 18 && checkCollide(games[data.gameId].players[data.id].pos[0] + 1, games[data.gameId].players[data.id].pos[1], games[data.gameId])) {","        games[data.gameId].players[data.id].pos[0]++;","      }","      else if (data.dir == \"south\" && games[data.gameId].players[data.id].pos[1] <= 18 && checkCollide(games[data.gameId].players[data.id].pos[0], games[data.gameId].players[data.id].pos[1] + 1, games[data.gameId])) {","        games[data.gameId].players[data.id].pos[1]++;","      }","      else if (data.dir == \"west\" && games[data.gameId].players[data.id].pos[0] > 0 && checkCollide(games[data.gameId].players[data.id].pos[0] - 1, games[data.gameId].players[data.id].pos[1], games[data.gameId])) {","        games[data.gameId].players[data.id].pos[0]--;","      }","      games[data.gameId].players[games[data.gameId].idTurn].dir = data.dir;","    }","","","","  });","  //Runs when someone connects to the display website","  socket.on(\"display\", function() {","    displays.push(socket)","    //Sending name data for selection for replaying games","    let stringArr = [];","    let tempStr = \"\";","    for (let thing in replay.games) {","      tempStr = \"\";","      for (let i in replay.games[thing].players) {","        tempStr += replay.games[thing].players[i].name + \", \";","      }","      tempStr = tempStr.substring(0, tempStr.length - 2);","      if (replay.games[thing].winnerId != \"tie\") {","        tempStr += \" | Winner: \" + replay.games[thing].players[replay.games[thing].winnerId].name;","      }","      else {","        tempStr += \" | Winner: Tie\"","      }","      if (tempStr.length > 0) {","        stringArr.push(tempStr);","      }","    }","","","    var mostWins = [];","    for (var player in playerData) {","      mostWins.push([playerData[player].username, playerData[player].score]);","    }","    mostWins.sort(function(a, b) {","      return b[1] - a[1];","    });","","","","","    socket.emit(\"replayNames\", { \"rerunStr\": stringArr, \"scoreArray\": JSON.stringify(mostWins) })","    socket.emit(\"queue\", games);","  })","  socket.on(\"name\", function(key) {","    console.log(\"user :\" + key + \" connected\")","    //making sure the key is a key in the database.","    let tempname = checkKey(key);","    if (tempname) { //tempname is either false if authentification failed, or it is the name that associates with the key.","      socket.playerName = tempname.name;","      socket.elo = tempname.elo;","      queueSockets.push(socket);","","      if (queueSockets.length >= PLAYER_NUMBER && !gameRunning) {","        /* 1. Shifts queud players into sockets ","         * 2. Creates Players in game object","         * 3. Starts running game","         * 4. sets gameRunning to true","         */","        startGame(queueSockets);","      }","    }","    else {","      console.log(\"player not found, or already connected?\")","    }","","  })","});","","//Pass the array to go through as a parameter.","function broadcast(event, data, arr) {","  arr.forEach(function(socket) {","    socket.emit(event, data);","  });","}","","","server.listen(process.env.PORT || 3000, process.env.IP || \"0.0.0.0\", function() {","  var addr = server.address();","  console.log(\"Server listening at\", addr.address + \":\" + addr.port);","});","","function resetGame(gameToReset) {","","  var energyArr = [];","  var winner = gameToReset.bases[0];","  for (var i = 0; i < gameToReset.bases.length; i++) {","    if (winner.pollen < gameToReset.bases[i].pollen) {","      winner = gameToReset.bases[i];","    }","    energyArr.push(gameToReset.bases[i].pollen);","  }","  energyArr = energyArr.sort(function(a, b) { return b - a; });","  //checking there isn't a tie between players","  if (energyArr[0] != energyArr[1]) {","    broadcast(\"endGame\", { \"winner\": gameToReset.players[winner.id], \"base\": winner, \"gameId\": gameToReset.gameId }, sockets[gameToReset.gameId])","    broadcast(\"endGame\", { \"winner\": gameToReset.players[winner.id], \"base\": winner, \"gameId\": gameToReset.gameId }, displays)","    addWin(gameToReset.players[winner.id].name)","    gameData[gameToReset.gameId].winnerId = winner.id;","  }","  else {","    gameData[gameToReset.gameId].winnerId = \"tie\";","    broadcast(\"endGame\", { \"winner\": \"tie\", \"gameId\": gameToReset.gameId }, sockets[gameToReset.gameId])","    broadcast(\"endGame\", { \"winner\": \"tie\", \"gameId\": gameToReset.gameId }, displays)","  }","","","  console.log(\"Game \" + gameToReset.gameId + \" has ended, and player \" + winner.id + \"(\" + gameToReset.players[winner.id].name + \") won! \");","","  console.log(\"Adding the turn data to the replay database.\");","  replay.games.push(JSON.parse(JSON.stringify(gameData[gameToReset.gameId])));","","  while (replay.games.length > 20) {","    replay.games.shift();","  }","  fs.writeFileSync(\"replay.json\", JSON.stringify(replay))","  gameData[gameToReset.gameId] = {};","","","  gameToReset.players.length = 0;","  sockets[gameToReset.gameId].length = 0;","","  games[gameToReset.gameId] = new Game(games.length);","  if (queueSockets.length >= PLAYER_NUMBER) {","    startGame(queueSockets)","  }","  else {","    gameToReset.running = false;","  }","}","","function startGame(queued) {","  console.log(\"startGame running\");","  let ind;","","  for (let i = 0; i < games.length; i++) {","    if (!games[i].running) {","      ind = i;","      break;","    }","  }","","","  console.log(\"Game \" + ind + \" starting!\");","  games[ind].gameId = ind;","  for (var i = 0; i < PLAYER_NUMBER; i++) {","    var oi = queued.shift();","    sockets[ind].push(oi);","    games[ind].players.push(new Player(oi.playerName, games[ind].players.length, games[ind].gameId, oi.elo));","  }","  games[ind].idTurn = 0;","  games[ind].running = true;","  broadcast(\"queue\", \"There are \" + games[ind].players.length + \" people connencted.\", sockets[ind]);","  broadcast(\"queue\", games, displays);","  broadcast(\"gameStart\", games[ind], sockets[ind]);","  gameData[ind].turns = [];","  gameData[ind].players = JSON.parse(JSON.stringify(games[ind].players));","  gameData[ind].bases = JSON.parse(JSON.stringify(games[ind].bases))","  gameData[ind].flowers = JSON.parse(JSON.stringify(games[ind].flowers))","  gameData[ind].barricades = JSON.parse(JSON.stringify(games[ind].barricades))","  // gameData[ind].teleport = [];","  gameData[ind].pollen = [];","","","  var loop = setInterval(function() {","    if (games[ind].turn == games[ind].totalTurns + PLAYER_NUMBER) {","      broadcast(\"draw\", games, displays);","      clearInterval(loop)","      resetGame(games[ind])","","    }","    else {","","      games[ind].idTurn = games[ind].turn % games[ind].players.length;","","","","      //Adding position information to add to the database for replays","      let posGameData = games[ind].players[games[ind].idTurn].pos;","      // gameData[ind].turns.push(JSON.parse(JSON.stringify(posGameData)));","","      gameData[ind].turns.push(JSON.parse(JSON.stringify(posGameData)));","","      let turnData = {","        \"bases\": [games[ind].bases[0].pollen, games[ind].bases[1].pollen, games[ind].bases[2].pollen, games[ind].bases[3].pollen],","        \"players\": [games[ind].players[0].pollen, games[ind].players[1].pollen, games[ind].players[2].pollen, games[ind].players[3].pollen]","      }","","      // if(gameData[ind].idTurn == ind % 4){","      gameData[ind].pollen.push(JSON.parse(JSON.stringify(turnData)));","      // }","      //adding energy to nodes","      if (games[ind].turn % 4 == 0) {","        for (var i = 0; i < games[ind].flowers.length; i++) {","          games[ind].flowers[i].pollen++;","        }","      }","","      //checking player collision with nodes","      for (var i = 0; i < games[ind].flowers.length; i++) {","        if (games[ind].players[games[ind].idTurn].pos[1] == games[ind].flowers[i].pos[1] && games[ind].players[games[ind].idTurn].pos[0] == games[ind].flowers[i].pos[0]) {","          games[ind].players[games[ind].idTurn].pollen += games[ind].flowers[i].pollen;","          games[ind].flowers[i].pollen = 0;","        }","      }","","","      playerCollide(ind) //checks player collision","      checkBase(ind)","","","      games[ind].myBot = games[ind].players[games[ind].idTurn];","      games[ind].myBase = games[ind].bases[games[ind].idTurn];","","","      broadcast(\"draw\", games, displays);","      sockets[ind][games[ind].idTurn].emit(\"update\", games[ind]);","","      games[ind].turn++;","    }","","  }, GAME_SPEED);","}","","// Changes ELO based on win/lose","function addWin(userName, playersInGame) {","  console.log(\"player data\", playerData);","","  for (let thing in playerData) {","    if (playerData[thing].username == userName) {","      playerData[thing].score += 15;","    }","    // else {","    //   playerData[thing].score -= 5;","    //   if (playerData[thing].score < 0) {","    //     playerData[thing].score = 0;","    //   }","    // }","  }","  // Save changes to playerData","  fs.writeFileSync(\"playerData.json\", JSON.stringify(playerData, null, 2))","}","","","","function checkKey(key) {","  let arr = Object.keys(playerData)","  for (let i = 0; i < arr.length; i++) {","    if (key == arr[i]) {","","      for (let j = 0; j < queueSockets.length; j++) {","        if (playerData[key].username == queueSockets[j].playerName) {","          return false;","        }","      }","      for (let thing in games) {","        if (games[thing].players.length > 0) {","          for (var j = 0; j < games[thing].players.length; j++) {","            if (playerData[key].username == games[thing].players[j].name) {","              return false;","","            }","          }","        }","      }","","","      return { \"name\": playerData[key].username, \"elo\": playerData[key].score };","    }","  }","  return false;","","}","","function checkCollide(x, y, game) {","  for (var i = 0; i < game.barricades.length; i++) {","    if (game.barricades[i][0] == x && game.barricades[i][1] == y) {","      return false;","    }","  }","  return true;","}","","function checkBase(gameId) {","  let energyStolen = false;","  let playerInd;","  let baseInd;","  let energyGained;","","  for (var i = 0; i < games[gameId].players.length; i++) {","","","    for (var j = 0; j < games[gameId].players.length; j++) {","      if (j != i) {","        if (games[gameId].players[j].pos[1] == games[gameId].bases[i].pos[1] && games[gameId].players[j].pos[0] == games[gameId].bases[i].pos[0]) {","          if (games[gameId].bases[i].pollen >= baseStealEnergy) {","","            energyGained = baseStealEnergy;","","          }","          else {","            energyGained = games[gameId].bases[i].pollen;","          }","","          if (games[gameId].players[i].pos[0] == games[gameId].players[j].pos[0] && games[gameId].players[i].pos[1] == games[gameId].players[j].pos[1]) {","            games[gameId].bases[i].pollen += games[gameId].players[j].pollen;","            games[gameId].players[j].pollen = 0;","            games[gameId].players[j].pos[0] = games[gameId].bases[j].pos[0];","            games[gameId].players[j].pos[1] = games[gameId].bases[j].pos[1];","            energyGained = 0;","          }","          energyStolen = true;","","","          playerInd = j;","          baseInd = i;","","","        }","      }","    }","    if (games[gameId].players[i].pos[1] == games[gameId].bases[i].pos[1] && games[gameId].players[i].pos[0] == games[gameId].bases[i].pos[0]) {","      games[gameId].bases[i].pollen += games[gameId].players[i].pollen","      games[gameId].players[i].pollen = 0;","    }","  }","","  if (energyStolen) {","","    games[gameId].players[playerInd].pollen += energyGained;","    games[gameId].bases[baseInd].pollen -= energyGained;","  }","}","","function playerCollide(ind) {","  for (var i = 0; i < games[ind].players.length; i++) {","    for (let j = 0; j < games[ind].players.length; j++) {","      if (j != i) {","        const avg = games[ind].players[i].pollen + games[ind].players[j].pollen;","        if ((games[ind].players[j].pos[1] != games[ind].bases[i].pos[1] && games[ind].players[j].pos[0] != games[ind].bases[i].pos[0])) {","          if (games[ind].players[i].pos[1] == games[ind].players[j].pos[1] && games[ind].players[i].pos[0] == games[ind].players[j].pos[0]) {","            if (games[ind].players[i].pollen > games[ind].players[j].pollen) {","              games[ind].players[i].pollen = Math.ceil(avg / 2)","              games[ind].players[j].pollen = Math.floor(avg / 2)","            }","            else if (games[ind].players[i].pollen < games[ind].players[j].pollen) {","              games[ind].players[j].pollen = Math.ceil(avg / 2)","              games[ind].players[i].pollen = Math.floor(avg / 2)","            }","          }","        }","","      }","    }","  }","}","","function generateBases() {","  let bases = [{ pos: [1, 1], pollen: 0, id: 0 }, { pos: [18, 1], pollen: 0, id: 1 }, { pos: [1, 18], pollen: 0, id: 2 }, { pos: [18, 18], pollen: 0, id: 3 }];","  if (randomMap) {","    let r = [Math.ceil(Math.random() * (MAP_SIZE - 2)), Math.ceil(Math.random() * (MAP_SIZE - 2))]","    let arr = mirrorPos(r);","    bases[0].pos = arr[0];","    bases[1].pos = arr[1];","    bases[2].pos = arr[2];","    bases[3].pos = arr[3];","  }","  return bases;","}","","","function mirrorPos(initPos) { // given a position, return an array with that position mirroed across all quadrants.","  let arr = [];","  arr.push(initPos)","  let tempPos = JSON.parse(JSON.stringify(initPos));","  tempPos[0] = Math.abs((MAP_SIZE - 1) - tempPos[0]);","  arr.push(JSON.parse(JSON.stringify(tempPos)));","  tempPos[1] = Math.abs((MAP_SIZE - 1) - tempPos[1]);","  arr.push(JSON.parse(JSON.stringify(tempPos)));","  tempPos = JSON.parse(JSON.stringify(initPos));","  tempPos[1] = Math.abs((MAP_SIZE - 1) - tempPos[1]);","  arr.push(JSON.parse(JSON.stringify(tempPos)));","  return arr;","}","","function generateNodes(bases, barricades, mapNum) {","  if (!randomMap) {","    return JSON.parse(JSON.stringify(maps[mapNum].flowers));","  }","  let nodeNum = (Math.ceil(Math.random() * 4 + FLOWER_ADD));","  let nodeArr = [];","","  for (let i = 0; i < nodeNum; i++) {","    let tempPos = [Math.floor(Math.random() * MAP_SIZE), Math.floor(Math.random() * MAP_SIZE)];","","    for (let j = 0; j < bases.length; j++) {","      if (tempPos[0] == bases[j][0] && tempPos[1] == bases[j][1]) {","        tempPos = [Math.floor(Math.random() * MAP_SIZE), Math.floor(Math.random() * MAP_SIZE)];","        j = 0;","      }","    }","    for (let i = 0; i < nodeArr.length; i++) {","      if (tempPos[0] == nodeArr[i][0] && tempPos[1] == nodeArr[i][1]) {","        tempPos = [Math.floor(Math.random() * MAP_SIZE), Math.floor(Math.random() * MAP_SIZE)];","        i = 0;","      }","    }","    for (let j = 0; j < barricades.length; j++) {","      if (tempPos[0] == barricades[j][0] && tempPos[1] == barricades[j][1]) {","        tempPos = [Math.floor(Math.random() * MAP_SIZE), Math.floor(Math.random() * MAP_SIZE)];","        j = 0;","      }","    }","    for (let n = 0; n < bases.length; n++) {","      var onBase = false;","      if (tempPos[0] == bases[n].pos[0] && tempPos[1] == bases[n].pos[1]) {","        onBase = true;","      }","    }","","    if (reachable(bases[0].pos, tempPos, barricades).length <= 1 || onBase) {","      i--;","    }","    else {","","      let mirrorPoss = mirrorPos(tempPos);","      nodeArr.push({ pollen: 0, pos: mirrorPoss[0] });","      nodeArr.push({ pollen: 0, pos: mirrorPoss[1] });","      nodeArr.push({ pollen: 0, pos: mirrorPoss[2] });","      nodeArr.push({ pollen: 0, pos: mirrorPoss[3] });","    }","  }","  return nodeArr;","}","","function generateBarricades(mapNum, bases) {","  // console.log(\"bases: \" + bases)","  let arr = [];","  if (!randomMap) {","    return (JSON.parse(JSON.stringify(maps[mapNum].barricades)))","  }","  let barricadeNum = (Math.ceil(Math.random() * MAP_SIZE)) + 30;","  for (let j = 0; j < barricadeNum; j++) {","    let r = [Math.floor(Math.random() * MAP_SIZE), Math.floor(Math.random() * MAP_SIZE)];","    for (let i = 0; i < bases.length; i++) {","      if (r[0] == bases[i].pos[0] && r[1] == bases[i].pos[1]) {","        r = [Math.floor(Math.random() * MAP_SIZE), Math.floor(Math.random() * MAP_SIZE)];","        i = 0;","      }","    }","","","","    let mirrorPoss = mirrorPos(r)","    arr.push(mirrorPoss[0])","    arr.push(mirrorPoss[1])","    arr.push(mirrorPoss[2])","    arr.push(mirrorPoss[3])","  }","","","  return arr;","}","","function reachable(pos1, pos2, barricades) {","  var grid = new PF.Grid(20, 20);","  grid.setWalkableAt(pos1[0], pos1[1], true);","  grid.setWalkableAt(pos2[0], pos2[1], true);","  for (let i = 0; i < barricades.length; i++) {","    grid.setWalkableAt(barricades[i][0], barricades[i][1], false)","  }","  var finder = new PF.AStarFinder();","  var path = finder.findPath(pos1[0], pos1[1], pos2[0], pos2[1], grid);","  return path;","}",""]}],[{"start":{"row":202,"column":32},"end":{"row":203,"column":0},"action":"insert","lines":["",""],"id":37},{"start":{"row":203,"column":0},"end":{"row":203,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":203,"column":6},"end":{"row":203,"column":38},"action":"insert","lines":["      queueSockets.push(socket);"],"id":38}],[{"start":{"row":203,"column":38},"end":{"row":204,"column":0},"action":"insert","lines":["",""],"id":39},{"start":{"row":204,"column":0},"end":{"row":204,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":204,"column":12},"end":{"row":204,"column":44},"action":"insert","lines":["      queueSockets.push(socket);"],"id":40}],[{"start":{"row":204,"column":44},"end":{"row":205,"column":0},"action":"insert","lines":["",""],"id":41},{"start":{"row":205,"column":0},"end":{"row":205,"column":18},"action":"insert","lines":["                  "]}],[{"start":{"row":205,"column":18},"end":{"row":205,"column":50},"action":"insert","lines":["      queueSockets.push(socket);"],"id":42}],[{"start":{"row":43,"column":2},"end":{"row":44,"column":0},"action":"remove","lines":["[],",""],"id":43},{"start":{"row":44,"column":2},"end":{"row":45,"column":0},"action":"remove","lines":["[],",""]},{"start":{"row":45,"column":0},"end":{"row":47,"column":2},"action":"insert","lines":["    [],","    [],","  "]},{"start":{"row":55,"column":2},"end":{"row":55,"column":4},"action":"insert","lines":["  "]},{"start":{"row":56,"column":4},"end":{"row":56,"column":8},"action":"insert","lines":["    "]},{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"insert","lines":["    "]},{"start":{"row":58,"column":4},"end":{"row":58,"column":8},"action":"insert","lines":["    "]},{"start":{"row":59,"column":0},"end":{"row":59,"column":1},"action":"insert","lines":[" "]},{"start":{"row":59,"column":5},"end":{"row":59,"column":8},"action":"insert","lines":["   "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"insert","lines":["  "]},{"start":{"row":60,"column":6},"end":{"row":60,"column":8},"action":"insert","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":63,"column":4},"end":{"row":63,"column":8},"action":"insert","lines":["    "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":1},"action":"insert","lines":[" "]},{"start":{"row":64,"column":5},"end":{"row":64,"column":8},"action":"insert","lines":["   "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"insert","lines":["  "]},{"start":{"row":71,"column":2},"end":{"row":71,"column":4},"action":"insert","lines":["  "]},{"start":{"row":72,"column":2},"end":{"row":72,"column":4},"action":"insert","lines":["  "]},{"start":{"row":73,"column":0},"end":{"row":73,"column":2},"action":"insert","lines":["  "]},{"start":{"row":74,"column":2},"end":{"row":74,"column":4},"action":"insert","lines":["  "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":2},"action":"insert","lines":["  "]},{"start":{"row":76,"column":2},"end":{"row":76,"column":4},"action":"insert","lines":["  "]},{"start":{"row":77,"column":0},"end":{"row":77,"column":1},"action":"insert","lines":[" "]},{"start":{"row":77,"column":3},"end":{"row":77,"column":4},"action":"insert","lines":[" "]},{"start":{"row":78,"column":0},"end":{"row":78,"column":1},"action":"insert","lines":[" "]},{"start":{"row":78,"column":3},"end":{"row":78,"column":4},"action":"insert","lines":[" "]},{"start":{"row":79,"column":2},"end":{"row":79,"column":4},"action":"insert","lines":["  "]},{"start":{"row":80,"column":0},"end":{"row":80,"column":2},"action":"insert","lines":["  "]},{"start":{"row":81,"column":2},"end":{"row":81,"column":4},"action":"insert","lines":["  "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":2},"action":"insert","lines":["  "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":1},"action":"insert","lines":[" "]},{"start":{"row":83,"column":3},"end":{"row":83,"column":4},"action":"insert","lines":[" "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":2},"action":"insert","lines":["  "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":2},"action":"insert","lines":["  "]},{"start":{"row":86,"column":4},"end":{"row":86,"column":8},"action":"insert","lines":["    "]},{"start":{"row":87,"column":4},"end":{"row":87,"column":8},"action":"insert","lines":["    "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":2},"action":"insert","lines":["  "]},{"start":{"row":88,"column":8},"end":{"row":88,"column":12},"action":"insert","lines":["    "]},{"start":{"row":89,"column":0},"end":{"row":89,"column":8},"action":"insert","lines":["        "]},{"start":{"row":90,"column":0},"end":{"row":90,"column":8},"action":"insert","lines":["        "]},{"start":{"row":90,"column":18},"end":{"row":90,"column":20},"action":"insert","lines":["  "]},{"start":{"row":91,"column":8},"end":{"row":91,"column":16},"action":"insert","lines":["        "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":1},"action":"insert","lines":[" "]},{"start":{"row":92,"column":7},"end":{"row":92,"column":12},"action":"insert","lines":["     "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":4},"action":"insert","lines":["    "]},{"start":{"row":94,"column":2},"end":{"row":94,"column":4},"action":"insert","lines":["  "]},{"start":{"row":96,"column":0},"end":{"row":96,"column":2},"action":"insert","lines":["  "]},{"start":{"row":97,"column":0},"end":{"row":97,"column":2},"action":"insert","lines":["  "]},{"start":{"row":108,"column":2},"end":{"row":108,"column":4},"action":"insert","lines":["  "]},{"start":{"row":109,"column":0},"end":{"row":109,"column":4},"action":"insert","lines":["    "]},{"start":{"row":110,"column":0},"end":{"row":110,"column":3},"action":"insert","lines":["   "]},{"start":{"row":110,"column":7},"end":{"row":110,"column":8},"action":"insert","lines":[" "]},{"start":{"row":111,"column":0},"end":{"row":111,"column":4},"action":"insert","lines":["    "]},{"start":{"row":112,"column":0},"end":{"row":112,"column":3},"action":"insert","lines":["   "]},{"start":{"row":112,"column":9},"end":{"row":112,"column":12},"action":"insert","lines":["   "]},{"start":{"row":113,"column":8},"end":{"row":113,"column":16},"action":"insert","lines":["        "]},{"start":{"row":114,"column":0},"end":{"row":114,"column":6},"action":"insert","lines":["      "]},{"start":{"row":114,"column":14},"end":{"row":114,"column":16},"action":"insert","lines":["  "]},{"start":{"row":115,"column":6},"end":{"row":115,"column":12},"action":"insert","lines":["      "]},{"start":{"row":116,"column":0},"end":{"row":116,"column":1},"action":"insert","lines":[" "]},{"start":{"row":116,"column":5},"end":{"row":116,"column":8},"action":"insert","lines":["   "]},{"start":{"row":118,"column":0},"end":{"row":118,"column":4},"action":"insert","lines":["    "]},{"start":{"row":119,"column":0},"end":{"row":119,"column":4},"action":"insert","lines":["    "]},{"start":{"row":119,"column":10},"end":{"row":119,"column":12},"action":"insert","lines":["  "]},{"start":{"row":120,"column":0},"end":{"row":120,"column":6},"action":"insert","lines":["      "]},{"start":{"row":121,"column":0},"end":{"row":121,"column":2},"action":"insert","lines":["  "]},{"start":{"row":121,"column":6},"end":{"row":121,"column":8},"action":"insert","lines":["  "]},{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"insert","lines":["    "]},{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "]},{"start":{"row":123,"column":10},"end":{"row":123,"column":12},"action":"insert","lines":["  "]},{"start":{"row":124,"column":0},"end":{"row":124,"column":6},"action":"insert","lines":["      "]},{"start":{"row":125,"column":0},"end":{"row":125,"column":2},"action":"insert","lines":["  "]},{"start":{"row":125,"column":8},"end":{"row":125,"column":12},"action":"insert","lines":["    "]},{"start":{"row":126,"column":4},"end":{"row":126,"column":8},"action":"insert","lines":["    "]},{"start":{"row":127,"column":0},"end":{"row":127,"column":2},"action":"insert","lines":["  "]},{"start":{"row":128,"column":2},"end":{"row":128,"column":4},"action":"insert","lines":["  "]},{"start":{"row":129,"column":0},"end":{"row":129,"column":2},"action":"insert","lines":["  "]},{"start":{"row":130,"column":0},"end":{"row":130,"column":1},"action":"insert","lines":[" "]},{"start":{"row":130,"column":4},"end":{"row":130,"column":5},"action":"insert","lines":[" "]},{"start":{"row":131,"column":0},"end":{"row":131,"column":2},"action":"insert","lines":["  "]},{"start":{"row":133,"column":0},"end":{"row":133,"column":2},"action":"insert","lines":["  "]},{"start":{"row":133,"column":6},"end":{"row":133,"column":8},"action":"insert","lines":["  "]},{"start":{"row":134,"column":2},"end":{"row":134,"column":4},"action":"insert","lines":["  "]},{"start":{"row":135,"column":0},"end":{"row":135,"column":1},"action":"insert","lines":[" "]},{"start":{"row":135,"column":3},"end":{"row":135,"column":4},"action":"insert","lines":[" "]},{"start":{"row":136,"column":0},"end":{"row":136,"column":4},"action":"insert","lines":["    "]},{"start":{"row":137,"column":4},"end":{"row":137,"column":8},"action":"insert","lines":["    "]},{"start":{"row":138,"column":0},"end":{"row":138,"column":6},"action":"insert","lines":["      "]},{"start":{"row":139,"column":0},"end":{"row":139,"column":6},"action":"insert","lines":["      "]},{"start":{"row":140,"column":0},"end":{"row":140,"column":4},"action":"insert","lines":["    "]},{"start":{"row":140,"column":12},"end":{"row":140,"column":16},"action":"insert","lines":["    "]},{"start":{"row":141,"column":6},"end":{"row":141,"column":12},"action":"insert","lines":["      "]},{"start":{"row":142,"column":0},"end":{"row":142,"column":6},"action":"insert","lines":["      "]},{"start":{"row":143,"column":0},"end":{"row":143,"column":4},"action":"insert","lines":["    "]},{"start":{"row":143,"column":12},"end":{"row":143,"column":16},"action":"insert","lines":["    "]},{"start":{"row":144,"column":6},"end":{"row":144,"column":12},"action":"insert","lines":["      "]},{"start":{"row":145,"column":0},"end":{"row":145,"column":6},"action":"insert","lines":["      "]},{"start":{"row":146,"column":0},"end":{"row":146,"column":4},"action":"insert","lines":["    "]},{"start":{"row":146,"column":12},"end":{"row":146,"column":16},"action":"insert","lines":["    "]},{"start":{"row":147,"column":6},"end":{"row":147,"column":12},"action":"insert","lines":["      "]},{"start":{"row":148,"column":0},"end":{"row":148,"column":6},"action":"insert","lines":["      "]},{"start":{"row":149,"column":0},"end":{"row":149,"column":3},"action":"insert","lines":["   "]},{"start":{"row":149,"column":11},"end":{"row":149,"column":16},"action":"insert","lines":["     "]},{"start":{"row":150,"column":6},"end":{"row":150,"column":12},"action":"insert","lines":["      "]},{"start":{"row":151,"column":0},"end":{"row":151,"column":6},"action":"insert","lines":["      "]},{"start":{"row":152,"column":0},"end":{"row":152,"column":3},"action":"insert","lines":["   "]},{"start":{"row":152,"column":7},"end":{"row":152,"column":8},"action":"insert","lines":[" "]},{"start":{"row":156,"column":0},"end":{"row":156,"column":2},"action":"insert","lines":["  "]},{"start":{"row":157,"column":0},"end":{"row":157,"column":2},"action":"insert","lines":["  "]},{"start":{"row":158,"column":2},"end":{"row":158,"column":4},"action":"insert","lines":["  "]},{"start":{"row":159,"column":0},"end":{"row":159,"column":3},"action":"insert","lines":["   "]},{"start":{"row":159,"column":7},"end":{"row":159,"column":8},"action":"insert","lines":[" "]},{"start":{"row":160,"column":0},"end":{"row":160,"column":4},"action":"insert","lines":["    "]},{"start":{"row":161,"column":4},"end":{"row":161,"column":8},"action":"insert","lines":["    "]},{"start":{"row":162,"column":0},"end":{"row":162,"column":1},"action":"insert","lines":[" "]},{"start":{"row":162,"column":5},"end":{"row":162,"column":8},"action":"insert","lines":["   "]},{"start":{"row":163,"column":0},"end":{"row":163,"column":4},"action":"insert","lines":["    "]},{"start":{"row":164,"column":0},"end":{"row":164,"column":3},"action":"insert","lines":["   "]},{"start":{"row":164,"column":9},"end":{"row":164,"column":12},"action":"insert","lines":["   "]},{"start":{"row":165,"column":0},"end":{"row":165,"column":6},"action":"insert","lines":["      "]},{"start":{"row":166,"column":0},"end":{"row":166,"column":1},"action":"insert","lines":[" "]},{"start":{"row":166,"column":9},"end":{"row":166,"column":16},"action":"insert","lines":["       "]},{"start":{"row":167,"column":0},"end":{"row":167,"column":3},"action":"insert","lines":["   "]},{"start":{"row":167,"column":9},"end":{"row":167,"column":12},"action":"insert","lines":["   "]},{"start":{"row":168,"column":0},"end":{"row":168,"column":6},"action":"insert","lines":["      "]},{"start":{"row":169,"column":0},"end":{"row":169,"column":1},"action":"insert","lines":[" "]},{"start":{"row":169,"column":7},"end":{"row":169,"column":12},"action":"insert","lines":["     "]},{"start":{"row":170,"column":0},"end":{"row":170,"column":8},"action":"insert","lines":["        "]},{"start":{"row":171,"column":6},"end":{"row":171,"column":12},"action":"insert","lines":["      "]},{"start":{"row":172,"column":0},"end":{"row":172,"column":1},"action":"insert","lines":[" "]},{"start":{"row":172,"column":7},"end":{"row":172,"column":12},"action":"insert","lines":["     "]},{"start":{"row":173,"column":0},"end":{"row":173,"column":8},"action":"insert","lines":["        "]},{"start":{"row":174,"column":6},"end":{"row":174,"column":12},"action":"insert","lines":["      "]},{"start":{"row":175,"column":0},"end":{"row":175,"column":1},"action":"insert","lines":[" "]},{"start":{"row":175,"column":7},"end":{"row":175,"column":12},"action":"insert","lines":["     "]},{"start":{"row":176,"column":0},"end":{"row":176,"column":5},"action":"insert","lines":["     "]},{"start":{"row":176,"column":13},"end":{"row":176,"column":16},"action":"insert","lines":["   "]},{"start":{"row":177,"column":6},"end":{"row":177,"column":12},"action":"insert","lines":["      "]},{"start":{"row":178,"column":0},"end":{"row":178,"column":1},"action":"insert","lines":[" "]},{"start":{"row":178,"column":5},"end":{"row":178,"column":8},"action":"insert","lines":["   "]},{"start":{"row":181,"column":0},"end":{"row":181,"column":4},"action":"insert","lines":["    "]},{"start":{"row":182,"column":0},"end":{"row":182,"column":3},"action":"insert","lines":["   "]},{"start":{"row":182,"column":7},"end":{"row":182,"column":8},"action":"insert","lines":[" "]},{"start":{"row":183,"column":0},"end":{"row":183,"column":6},"action":"insert","lines":["      "]},{"start":{"row":184,"column":0},"end":{"row":184,"column":3},"action":"insert","lines":["   "]},{"start":{"row":184,"column":7},"end":{"row":184,"column":8},"action":"insert","lines":[" "]},{"start":{"row":185,"column":0},"end":{"row":185,"column":4},"action":"insert","lines":["    "]},{"start":{"row":186,"column":0},"end":{"row":186,"column":5},"action":"insert","lines":["     "]},{"start":{"row":186,"column":11},"end":{"row":186,"column":12},"action":"insert","lines":[" "]},{"start":{"row":187,"column":4},"end":{"row":187,"column":8},"action":"insert","lines":["    "]},{"start":{"row":192,"column":0},"end":{"row":192,"column":4},"action":"insert","lines":["    "]},{"start":{"row":193,"column":0},"end":{"row":193,"column":1},"action":"insert","lines":[" "]},{"start":{"row":193,"column":5},"end":{"row":193,"column":8},"action":"insert","lines":["   "]},{"start":{"row":194,"column":0},"end":{"row":194,"column":2},"action":"insert","lines":["  "]},{"start":{"row":195,"column":2},"end":{"row":195,"column":4},"action":"insert","lines":["  "]},{"start":{"row":196,"column":0},"end":{"row":196,"column":3},"action":"insert","lines":["   "]},{"start":{"row":196,"column":7},"end":{"row":196,"column":8},"action":"insert","lines":[" "]},{"start":{"row":197,"column":0},"end":{"row":197,"column":4},"action":"insert","lines":["    "]},{"start":{"row":198,"column":4},"end":{"row":198,"column":8},"action":"insert","lines":["    "]},{"start":{"row":199,"column":0},"end":{"row":199,"column":1},"action":"insert","lines":[" "]},{"start":{"row":199,"column":5},"end":{"row":199,"column":8},"action":"insert","lines":["   "]},{"start":{"row":200,"column":6},"end":{"row":200,"column":12},"action":"insert","lines":["      "]},{"start":{"row":201,"column":0},"end":{"row":201,"column":3},"action":"insert","lines":["   "]},{"start":{"row":201,"column":9},"end":{"row":201,"column":12},"action":"insert","lines":["   "]},{"start":{"row":202,"column":0},"end":{"row":202,"column":5},"action":"insert","lines":["     "]},{"start":{"row":202,"column":11},"end":{"row":202,"column":12},"action":"insert","lines":[" "]},{"start":{"row":204,"column":12},"end":{"row":204,"column":18},"action":"remove","lines":["      "]},{"start":{"row":205,"column":0},"end":{"row":205,"column":3},"action":"remove","lines":["   "]},{"start":{"row":205,"column":12},"end":{"row":205,"column":21},"action":"remove","lines":["         "]},{"start":{"row":207,"column":0},"end":{"row":207,"column":1},"action":"insert","lines":[" "]},{"start":{"row":207,"column":7},"end":{"row":207,"column":12},"action":"insert","lines":["     "]},{"start":{"row":208,"column":8},"end":{"row":208,"column":16},"action":"insert","lines":["        "]},{"start":{"row":209,"column":0},"end":{"row":209,"column":7},"action":"insert","lines":["       "]},{"start":{"row":209,"column":16},"end":{"row":209,"column":17},"action":"insert","lines":[" "]},{"start":{"row":210,"column":9},"end":{"row":210,"column":17},"action":"insert","lines":["        "]},{"start":{"row":211,"column":0},"end":{"row":211,"column":1},"action":"insert","lines":[" "]},{"start":{"row":211,"column":10},"end":{"row":211,"column":17},"action":"insert","lines":["       "]},{"start":{"row":212,"column":0},"end":{"row":212,"column":3},"action":"insert","lines":["   "]},{"start":{"row":212,"column":12},"end":{"row":212,"column":17},"action":"insert","lines":["     "]},{"start":{"row":213,"column":0},"end":{"row":213,"column":8},"action":"insert","lines":["        "]},{"start":{"row":214,"column":6},"end":{"row":214,"column":12},"action":"insert","lines":["      "]},{"start":{"row":215,"column":0},"end":{"row":215,"column":1},"action":"insert","lines":[" "]},{"start":{"row":215,"column":5},"end":{"row":215,"column":8},"action":"insert","lines":["   "]},{"start":{"row":216,"column":0},"end":{"row":216,"column":4},"action":"insert","lines":["    "]},{"start":{"row":217,"column":0},"end":{"row":217,"column":6},"action":"insert","lines":["      "]},{"start":{"row":218,"column":4},"end":{"row":218,"column":8},"action":"insert","lines":["    "]},{"start":{"row":220,"column":0},"end":{"row":220,"column":2},"action":"insert","lines":["  "]},{"start":{"row":225,"column":2},"end":{"row":225,"column":4},"action":"insert","lines":["  "]},{"start":{"row":226,"column":4},"end":{"row":226,"column":8},"action":"insert","lines":["    "]},{"start":{"row":227,"column":0},"end":{"row":227,"column":2},"action":"insert","lines":["  "]},{"start":{"row":232,"column":2},"end":{"row":232,"column":4},"action":"insert","lines":["  "]},{"start":{"row":233,"column":0},"end":{"row":233,"column":2},"action":"insert","lines":["  "]},{"start":{"row":238,"column":2},"end":{"row":238,"column":4},"action":"insert","lines":["  "]},{"start":{"row":239,"column":0},"end":{"row":239,"column":2},"action":"insert","lines":["  "]},{"start":{"row":240,"column":0},"end":{"row":240,"column":1},"action":"insert","lines":[" "]},{"start":{"row":240,"column":3},"end":{"row":240,"column":4},"action":"insert","lines":[" "]},{"start":{"row":241,"column":0},"end":{"row":241,"column":4},"action":"insert","lines":["    "]},{"start":{"row":242,"column":0},"end":{"row":242,"column":4},"action":"insert","lines":["    "]},{"start":{"row":242,"column":10},"end":{"row":242,"column":12},"action":"insert","lines":["  "]},{"start":{"row":243,"column":4},"end":{"row":243,"column":8},"action":"insert","lines":["    "]},{"start":{"row":244,"column":0},"end":{"row":244,"column":3},"action":"insert","lines":["   "]},{"start":{"row":244,"column":7},"end":{"row":244,"column":8},"action":"insert","lines":[" "]},{"start":{"row":245,"column":2},"end":{"row":245,"column":4},"action":"insert","lines":["  "]},{"start":{"row":246,"column":0},"end":{"row":246,"column":1},"action":"insert","lines":[" "]},{"start":{"row":246,"column":3},"end":{"row":246,"column":4},"action":"insert","lines":[" "]},{"start":{"row":247,"column":2},"end":{"row":247,"column":4},"action":"insert","lines":["  "]},{"start":{"row":248,"column":0},"end":{"row":248,"column":1},"action":"insert","lines":[" "]},{"start":{"row":248,"column":3},"end":{"row":248,"column":4},"action":"insert","lines":[" "]},{"start":{"row":249,"column":0},"end":{"row":249,"column":4},"action":"insert","lines":["    "]},{"start":{"row":250,"column":0},"end":{"row":250,"column":4},"action":"insert","lines":["    "]},{"start":{"row":251,"column":4},"end":{"row":251,"column":8},"action":"insert","lines":["    "]},{"start":{"row":252,"column":0},"end":{"row":252,"column":4},"action":"insert","lines":["    "]},{"start":{"row":253,"column":2},"end":{"row":253,"column":4},"action":"insert","lines":["  "]},{"start":{"row":254,"column":0},"end":{"row":254,"column":2},"action":"insert","lines":["  "]},{"start":{"row":255,"column":0},"end":{"row":255,"column":4},"action":"insert","lines":["    "]},{"start":{"row":256,"column":0},"end":{"row":256,"column":1},"action":"insert","lines":[" "]},{"start":{"row":256,"column":5},"end":{"row":256,"column":8},"action":"insert","lines":["   "]},{"start":{"row":257,"column":4},"end":{"row":257,"column":8},"action":"insert","lines":["    "]},{"start":{"row":258,"column":0},"end":{"row":258,"column":1},"action":"insert","lines":[" "]},{"start":{"row":258,"column":3},"end":{"row":258,"column":4},"action":"insert","lines":[" "]},{"start":{"row":261,"column":0},"end":{"row":261,"column":2},"action":"insert","lines":["  "]},{"start":{"row":263,"column":0},"end":{"row":263,"column":2},"action":"insert","lines":["  "]},{"start":{"row":264,"column":2},"end":{"row":264,"column":4},"action":"insert","lines":["  "]},{"start":{"row":266,"column":0},"end":{"row":266,"column":2},"action":"insert","lines":["  "]},{"start":{"row":267,"column":4},"end":{"row":267,"column":8},"action":"insert","lines":["    "]},{"start":{"row":268,"column":2},"end":{"row":268,"column":4},"action":"insert","lines":["  "]},{"start":{"row":269,"column":0},"end":{"row":269,"column":2},"action":"insert","lines":["  "]},{"start":{"row":270,"column":2},"end":{"row":270,"column":4},"action":"insert","lines":["  "]},{"start":{"row":273,"column":2},"end":{"row":273,"column":4},"action":"insert","lines":["  "]},{"start":{"row":274,"column":0},"end":{"row":274,"column":1},"action":"insert","lines":[" "]},{"start":{"row":274,"column":3},"end":{"row":274,"column":4},"action":"insert","lines":[" "]},{"start":{"row":276,"column":0},"end":{"row":276,"column":2},"action":"insert","lines":["  "]},{"start":{"row":277,"column":0},"end":{"row":277,"column":1},"action":"insert","lines":[" "]},{"start":{"row":277,"column":3},"end":{"row":277,"column":4},"action":"insert","lines":[" "]},{"start":{"row":278,"column":4},"end":{"row":278,"column":8},"action":"insert","lines":["    "]},{"start":{"row":279,"column":2},"end":{"row":279,"column":4},"action":"insert","lines":["  "]},{"start":{"row":280,"column":0},"end":{"row":280,"column":1},"action":"insert","lines":[" "]},{"start":{"row":280,"column":3},"end":{"row":280,"column":4},"action":"insert","lines":[" "]},{"start":{"row":281,"column":0},"end":{"row":281,"column":4},"action":"insert","lines":["    "]},{"start":{"row":282,"column":2},"end":{"row":282,"column":4},"action":"insert","lines":["  "]},{"start":{"row":286,"column":0},"end":{"row":286,"column":2},"action":"insert","lines":["  "]},{"start":{"row":287,"column":2},"end":{"row":287,"column":4},"action":"insert","lines":["  "]},{"start":{"row":289,"column":0},"end":{"row":289,"column":2},"action":"insert","lines":["  "]},{"start":{"row":290,"column":0},"end":{"row":290,"column":4},"action":"insert","lines":["    "]},{"start":{"row":291,"column":6},"end":{"row":291,"column":12},"action":"insert","lines":["      "]},{"start":{"row":292,"column":0},"end":{"row":292,"column":3},"action":"insert","lines":["   "]},{"start":{"row":292,"column":9},"end":{"row":292,"column":12},"action":"insert","lines":["   "]},{"start":{"row":293,"column":4},"end":{"row":293,"column":8},"action":"insert","lines":["    "]},{"start":{"row":294,"column":0},"end":{"row":294,"column":1},"action":"insert","lines":[" "]},{"start":{"row":294,"column":3},"end":{"row":294,"column":4},"action":"insert","lines":[" "]},{"start":{"row":297,"column":0},"end":{"row":297,"column":2},"action":"insert","lines":["  "]},{"start":{"row":298,"column":0},"end":{"row":298,"column":2},"action":"insert","lines":["  "]},{"start":{"row":299,"column":2},"end":{"row":299,"column":4},"action":"insert","lines":["  "]},{"start":{"row":300,"column":0},"end":{"row":300,"column":2},"action":"insert","lines":["  "]},{"start":{"row":300,"column":6},"end":{"row":300,"column":8},"action":"insert","lines":["  "]},{"start":{"row":301,"column":0},"end":{"row":301,"column":2},"action":"insert","lines":["  "]},{"start":{"row":301,"column":6},"end":{"row":301,"column":8},"action":"insert","lines":["  "]},{"start":{"row":302,"column":0},"end":{"row":302,"column":2},"action":"insert","lines":["  "]},{"start":{"row":302,"column":6},"end":{"row":302,"column":8},"action":"insert","lines":["  "]},{"start":{"row":303,"column":2},"end":{"row":303,"column":4},"action":"insert","lines":["  "]},{"start":{"row":304,"column":0},"end":{"row":304,"column":2},"action":"insert","lines":["  "]},{"start":{"row":305,"column":2},"end":{"row":305,"column":4},"action":"insert","lines":["  "]},{"start":{"row":306,"column":0},"end":{"row":306,"column":1},"action":"insert","lines":[" "]},{"start":{"row":306,"column":3},"end":{"row":306,"column":4},"action":"insert","lines":[" "]},{"start":{"row":307,"column":2},"end":{"row":307,"column":4},"action":"insert","lines":["  "]},{"start":{"row":308,"column":0},"end":{"row":308,"column":1},"action":"insert","lines":[" "]},{"start":{"row":308,"column":3},"end":{"row":308,"column":4},"action":"insert","lines":[" "]},{"start":{"row":309,"column":2},"end":{"row":309,"column":4},"action":"insert","lines":["  "]},{"start":{"row":310,"column":0},"end":{"row":310,"column":1},"action":"insert","lines":[" "]},{"start":{"row":310,"column":3},"end":{"row":310,"column":4},"action":"insert","lines":[" "]},{"start":{"row":311,"column":2},"end":{"row":311,"column":4},"action":"insert","lines":["  "]},{"start":{"row":312,"column":0},"end":{"row":312,"column":2},"action":"insert","lines":["  "]},{"start":{"row":313,"column":2},"end":{"row":313,"column":4},"action":"insert","lines":["  "]},{"start":{"row":314,"column":0},"end":{"row":314,"column":2},"action":"insert","lines":["  "]},{"start":{"row":315,"column":2},"end":{"row":315,"column":4},"action":"insert","lines":["  "]},{"start":{"row":318,"column":0},"end":{"row":318,"column":2},"action":"insert","lines":["  "]},{"start":{"row":319,"column":0},"end":{"row":319,"column":4},"action":"insert","lines":["    "]},{"start":{"row":320,"column":6},"end":{"row":320,"column":12},"action":"insert","lines":["      "]},{"start":{"row":321,"column":6},"end":{"row":321,"column":12},"action":"insert","lines":["      "]},{"start":{"row":322,"column":0},"end":{"row":322,"column":5},"action":"insert","lines":["     "]},{"start":{"row":322,"column":11},"end":{"row":322,"column":12},"action":"insert","lines":[" "]},{"start":{"row":324,"column":4},"end":{"row":324,"column":8},"action":"insert","lines":["    "]},{"start":{"row":325,"column":0},"end":{"row":325,"column":3},"action":"insert","lines":["   "]},{"start":{"row":325,"column":7},"end":{"row":325,"column":8},"action":"insert","lines":[" "]},{"start":{"row":327,"column":0},"end":{"row":327,"column":6},"action":"insert","lines":["      "]},{"start":{"row":331,"column":0},"end":{"row":331,"column":2},"action":"insert","lines":["  "]},{"start":{"row":331,"column":8},"end":{"row":331,"column":12},"action":"insert","lines":["    "]},{"start":{"row":332,"column":0},"end":{"row":332,"column":5},"action":"insert","lines":["     "]},{"start":{"row":332,"column":11},"end":{"row":332,"column":12},"action":"insert","lines":[" "]},{"start":{"row":333,"column":0},"end":{"row":333,"column":6},"action":"insert","lines":["      "]},{"start":{"row":335,"column":0},"end":{"row":335,"column":1},"action":"insert","lines":[" "]},{"start":{"row":335,"column":7},"end":{"row":335,"column":12},"action":"insert","lines":["     "]},{"start":{"row":337,"column":6},"end":{"row":337,"column":12},"action":"insert","lines":["      "]},{"start":{"row":338,"column":0},"end":{"row":338,"column":6},"action":"insert","lines":["      "]},{"start":{"row":338,"column":14},"end":{"row":338,"column":16},"action":"insert","lines":["  "]},{"start":{"row":339,"column":0},"end":{"row":339,"column":8},"action":"insert","lines":["        "]},{"start":{"row":340,"column":6},"end":{"row":340,"column":12},"action":"insert","lines":["      "]},{"start":{"row":342,"column":0},"end":{"row":342,"column":1},"action":"insert","lines":[" "]},{"start":{"row":342,"column":7},"end":{"row":342,"column":12},"action":"insert","lines":["     "]},{"start":{"row":343,"column":0},"end":{"row":343,"column":6},"action":"insert","lines":["      "]},{"start":{"row":344,"column":0},"end":{"row":344,"column":6},"action":"insert","lines":["      "]},{"start":{"row":345,"column":6},"end":{"row":345,"column":12},"action":"insert","lines":["      "]},{"start":{"row":346,"column":0},"end":{"row":346,"column":3},"action":"insert","lines":["   "]},{"start":{"row":346,"column":9},"end":{"row":346,"column":12},"action":"insert","lines":["   "]},{"start":{"row":347,"column":0},"end":{"row":347,"column":5},"action":"insert","lines":["     "]},{"start":{"row":347,"column":13},"end":{"row":347,"column":16},"action":"insert","lines":["   "]},{"start":{"row":348,"column":10},"end":{"row":348,"column":20},"action":"insert","lines":["          "]},{"start":{"row":349,"column":0},"end":{"row":349,"column":4},"action":"insert","lines":["    "]},{"start":{"row":349,"column":12},"end":{"row":349,"column":16},"action":"insert","lines":["    "]},{"start":{"row":350,"column":0},"end":{"row":350,"column":4},"action":"insert","lines":["    "]},{"start":{"row":350,"column":10},"end":{"row":350,"column":12},"action":"insert","lines":["  "]},{"start":{"row":352,"column":0},"end":{"row":352,"column":6},"action":"insert","lines":["      "]},{"start":{"row":353,"column":0},"end":{"row":353,"column":1},"action":"insert","lines":[" "]},{"start":{"row":353,"column":7},"end":{"row":353,"column":12},"action":"insert","lines":["     "]},{"start":{"row":354,"column":0},"end":{"row":354,"column":8},"action":"insert","lines":["        "]},{"start":{"row":355,"column":0},"end":{"row":355,"column":4},"action":"insert","lines":["    "]},{"start":{"row":355,"column":14},"end":{"row":355,"column":20},"action":"insert","lines":["      "]},{"start":{"row":356,"column":10},"end":{"row":356,"column":20},"action":"insert","lines":["          "]},{"start":{"row":357,"column":0},"end":{"row":357,"column":1},"action":"insert","lines":[" "]},{"start":{"row":357,"column":9},"end":{"row":357,"column":16},"action":"insert","lines":["       "]},{"start":{"row":358,"column":0},"end":{"row":358,"column":2},"action":"insert","lines":["  "]},{"start":{"row":358,"column":8},"end":{"row":358,"column":12},"action":"insert","lines":["    "]},{"start":{"row":361,"column":0},"end":{"row":361,"column":4},"action":"insert","lines":["    "]},{"start":{"row":361,"column":10},"end":{"row":361,"column":12},"action":"insert","lines":["  "]},{"start":{"row":362,"column":6},"end":{"row":362,"column":12},"action":"insert","lines":["      "]},{"start":{"row":365,"column":0},"end":{"row":365,"column":1},"action":"insert","lines":[" "]},{"start":{"row":365,"column":7},"end":{"row":365,"column":12},"action":"insert","lines":["     "]},{"start":{"row":366,"column":0},"end":{"row":366,"column":3},"action":"insert","lines":["   "]},{"start":{"row":366,"column":9},"end":{"row":366,"column":12},"action":"insert","lines":["   "]},{"start":{"row":369,"column":0},"end":{"row":369,"column":6},"action":"insert","lines":["      "]},{"start":{"row":370,"column":6},"end":{"row":370,"column":12},"action":"insert","lines":["      "]},{"start":{"row":372,"column":0},"end":{"row":372,"column":2},"action":"insert","lines":["  "]},{"start":{"row":372,"column":8},"end":{"row":372,"column":12},"action":"insert","lines":["    "]},{"start":{"row":373,"column":4},"end":{"row":373,"column":8},"action":"insert","lines":["    "]},{"start":{"row":375,"column":0},"end":{"row":375,"column":1},"action":"insert","lines":[" "]},{"start":{"row":375,"column":3},"end":{"row":375,"column":4},"action":"insert","lines":[" "]},{"start":{"row":380,"column":2},"end":{"row":380,"column":4},"action":"insert","lines":["  "]},{"start":{"row":382,"column":2},"end":{"row":382,"column":4},"action":"insert","lines":["  "]},{"start":{"row":383,"column":0},"end":{"row":383,"column":3},"action":"insert","lines":["   "]},{"start":{"row":383,"column":7},"end":{"row":383,"column":8},"action":"insert","lines":[" "]},{"start":{"row":384,"column":6},"end":{"row":384,"column":12},"action":"insert","lines":["      "]},{"start":{"row":385,"column":0},"end":{"row":385,"column":2},"action":"insert","lines":["  "]},{"start":{"row":385,"column":6},"end":{"row":385,"column":8},"action":"insert","lines":["  "]},{"start":{"row":386,"column":0},"end":{"row":386,"column":4},"action":"insert","lines":["    "]},{"start":{"row":387,"column":0},"end":{"row":387,"column":2},"action":"insert","lines":["  "]},{"start":{"row":387,"column":6},"end":{"row":387,"column":8},"action":"insert","lines":["  "]},{"start":{"row":388,"column":0},"end":{"row":388,"column":4},"action":"insert","lines":["    "]},{"start":{"row":389,"column":0},"end":{"row":389,"column":3},"action":"insert","lines":["   "]},{"start":{"row":389,"column":7},"end":{"row":389,"column":8},"action":"insert","lines":[" "]},{"start":{"row":390,"column":4},"end":{"row":390,"column":8},"action":"insert","lines":["    "]},{"start":{"row":391,"column":0},"end":{"row":391,"column":3},"action":"insert","lines":["   "]},{"start":{"row":391,"column":7},"end":{"row":391,"column":8},"action":"insert","lines":[" "]},{"start":{"row":392,"column":2},"end":{"row":392,"column":4},"action":"insert","lines":["  "]},{"start":{"row":393,"column":0},"end":{"row":393,"column":2},"action":"insert","lines":["  "]},{"start":{"row":394,"column":0},"end":{"row":394,"column":2},"action":"insert","lines":["  "]},{"start":{"row":400,"column":0},"end":{"row":400,"column":2},"action":"insert","lines":["  "]},{"start":{"row":401,"column":2},"end":{"row":401,"column":4},"action":"insert","lines":["  "]},{"start":{"row":402,"column":4},"end":{"row":402,"column":8},"action":"insert","lines":["    "]},{"start":{"row":404,"column":0},"end":{"row":404,"column":2},"action":"insert","lines":["  "]},{"start":{"row":404,"column":8},"end":{"row":404,"column":12},"action":"insert","lines":["    "]},{"start":{"row":405,"column":0},"end":{"row":405,"column":8},"action":"insert","lines":["        "]},{"start":{"row":406,"column":0},"end":{"row":406,"column":5},"action":"insert","lines":["     "]},{"start":{"row":406,"column":15},"end":{"row":406,"column":20},"action":"insert","lines":["     "]},{"start":{"row":407,"column":8},"end":{"row":407,"column":16},"action":"insert","lines":["        "]},{"start":{"row":408,"column":0},"end":{"row":408,"column":4},"action":"insert","lines":["    "]},{"start":{"row":408,"column":10},"end":{"row":408,"column":12},"action":"insert","lines":["  "]},{"start":{"row":409,"column":0},"end":{"row":409,"column":6},"action":"insert","lines":["      "]},{"start":{"row":410,"column":0},"end":{"row":410,"column":1},"action":"insert","lines":[" "]},{"start":{"row":410,"column":9},"end":{"row":410,"column":16},"action":"insert","lines":["       "]},{"start":{"row":411,"column":0},"end":{"row":411,"column":1},"action":"insert","lines":[" "]},{"start":{"row":411,"column":11},"end":{"row":411,"column":20},"action":"insert","lines":["         "]},{"start":{"row":412,"column":0},"end":{"row":412,"column":8},"action":"insert","lines":["        "]},{"start":{"row":412,"column":20},"end":{"row":412,"column":24},"action":"insert","lines":["    "]},{"start":{"row":413,"column":0},"end":{"row":413,"column":13},"action":"insert","lines":["             "]},{"start":{"row":413,"column":27},"end":{"row":413,"column":28},"action":"insert","lines":[" "]},{"start":{"row":415,"column":12},"end":{"row":415,"column":24},"action":"insert","lines":["            "]},{"start":{"row":416,"column":0},"end":{"row":416,"column":4},"action":"insert","lines":["    "]},{"start":{"row":416,"column":14},"end":{"row":416,"column":20},"action":"insert","lines":["      "]},{"start":{"row":417,"column":0},"end":{"row":417,"column":3},"action":"insert","lines":["   "]},{"start":{"row":417,"column":11},"end":{"row":417,"column":16},"action":"insert","lines":["     "]},{"start":{"row":418,"column":0},"end":{"row":418,"column":3},"action":"insert","lines":["   "]},{"start":{"row":418,"column":9},"end":{"row":418,"column":12},"action":"insert","lines":["   "]},{"start":{"row":421,"column":0},"end":{"row":421,"column":6},"action":"insert","lines":["      "]},{"start":{"row":422,"column":4},"end":{"row":422,"column":8},"action":"insert","lines":["    "]},{"start":{"row":423,"column":2},"end":{"row":423,"column":4},"action":"insert","lines":["  "]},{"start":{"row":424,"column":0},"end":{"row":424,"column":2},"action":"insert","lines":["  "]},{"start":{"row":429,"column":2},"end":{"row":429,"column":4},"action":"insert","lines":["  "]},{"start":{"row":430,"column":0},"end":{"row":430,"column":4},"action":"insert","lines":["    "]},{"start":{"row":431,"column":0},"end":{"row":431,"column":3},"action":"insert","lines":["   "]},{"start":{"row":431,"column":9},"end":{"row":431,"column":12},"action":"insert","lines":["   "]},{"start":{"row":432,"column":4},"end":{"row":432,"column":8},"action":"insert","lines":["    "]},{"start":{"row":433,"column":0},"end":{"row":433,"column":1},"action":"insert","lines":[" "]},{"start":{"row":433,"column":3},"end":{"row":433,"column":4},"action":"insert","lines":[" "]},{"start":{"row":434,"column":0},"end":{"row":434,"column":2},"action":"insert","lines":["  "]},{"start":{"row":438,"column":0},"end":{"row":438,"column":2},"action":"insert","lines":["  "]},{"start":{"row":439,"column":2},"end":{"row":439,"column":4},"action":"insert","lines":["  "]},{"start":{"row":440,"column":0},"end":{"row":440,"column":2},"action":"insert","lines":["  "]},{"start":{"row":441,"column":2},"end":{"row":441,"column":4},"action":"insert","lines":["  "]},{"start":{"row":443,"column":0},"end":{"row":443,"column":2},"action":"insert","lines":["  "]},{"start":{"row":446,"column":0},"end":{"row":446,"column":4},"action":"insert","lines":["    "]},{"start":{"row":447,"column":6},"end":{"row":447,"column":12},"action":"insert","lines":["      "]},{"start":{"row":448,"column":0},"end":{"row":448,"column":8},"action":"insert","lines":["        "]},{"start":{"row":449,"column":0},"end":{"row":449,"column":3},"action":"insert","lines":["   "]},{"start":{"row":449,"column":13},"end":{"row":449,"column":20},"action":"insert","lines":["       "]},{"start":{"row":451,"column":0},"end":{"row":451,"column":10},"action":"insert","lines":["          "]},{"start":{"row":451,"column":22},"end":{"row":451,"column":24},"action":"insert","lines":["  "]},{"start":{"row":453,"column":10},"end":{"row":453,"column":20},"action":"insert","lines":["          "]},{"start":{"row":454,"column":0},"end":{"row":454,"column":5},"action":"insert","lines":["     "]},{"start":{"row":454,"column":15},"end":{"row":454,"column":20},"action":"insert","lines":["     "]},{"start":{"row":455,"column":0},"end":{"row":455,"column":12},"action":"insert","lines":["            "]},{"start":{"row":456,"column":10},"end":{"row":456,"column":20},"action":"insert","lines":["          "]},{"start":{"row":458,"column":0},"end":{"row":458,"column":7},"action":"insert","lines":["       "]},{"start":{"row":458,"column":17},"end":{"row":458,"column":20},"action":"insert","lines":["   "]},{"start":{"row":459,"column":12},"end":{"row":459,"column":24},"action":"insert","lines":["            "]},{"start":{"row":460,"column":12},"end":{"row":460,"column":24},"action":"insert","lines":["            "]},{"start":{"row":461,"column":0},"end":{"row":461,"column":7},"action":"insert","lines":["       "]},{"start":{"row":461,"column":19},"end":{"row":461,"column":24},"action":"insert","lines":["     "]},{"start":{"row":462,"column":0},"end":{"row":462,"column":12},"action":"insert","lines":["            "]},{"start":{"row":463,"column":12},"end":{"row":463,"column":24},"action":"insert","lines":["            "]},{"start":{"row":464,"column":0},"end":{"row":464,"column":5},"action":"insert","lines":["     "]},{"start":{"row":464,"column":15},"end":{"row":464,"column":20},"action":"insert","lines":["     "]},{"start":{"row":465,"column":0},"end":{"row":465,"column":10},"action":"insert","lines":["          "]},{"start":{"row":468,"column":0},"end":{"row":468,"column":2},"action":"insert","lines":["  "]},{"start":{"row":468,"column":12},"end":{"row":468,"column":20},"action":"insert","lines":["        "]},{"start":{"row":469,"column":0},"end":{"row":469,"column":9},"action":"insert","lines":["         "]},{"start":{"row":469,"column":19},"end":{"row":469,"column":20},"action":"insert","lines":[" "]},{"start":{"row":472,"column":8},"end":{"row":472,"column":16},"action":"insert","lines":["        "]},{"start":{"row":473,"column":0},"end":{"row":473,"column":3},"action":"insert","lines":["   "]},{"start":{"row":473,"column":9},"end":{"row":473,"column":12},"action":"insert","lines":["   "]},{"start":{"row":474,"column":0},"end":{"row":474,"column":3},"action":"insert","lines":["   "]},{"start":{"row":474,"column":7},"end":{"row":474,"column":8},"action":"insert","lines":[" "]},{"start":{"row":475,"column":0},"end":{"row":475,"column":4},"action":"insert","lines":["    "]},{"start":{"row":476,"column":6},"end":{"row":476,"column":12},"action":"insert","lines":["      "]},{"start":{"row":477,"column":0},"end":{"row":477,"column":5},"action":"insert","lines":["     "]},{"start":{"row":477,"column":11},"end":{"row":477,"column":12},"action":"insert","lines":[" "]},{"start":{"row":478,"column":4},"end":{"row":478,"column":8},"action":"insert","lines":["    "]},{"start":{"row":479,"column":2},"end":{"row":479,"column":4},"action":"insert","lines":["  "]},{"start":{"row":481,"column":0},"end":{"row":481,"column":2},"action":"insert","lines":["  "]},{"start":{"row":483,"column":4},"end":{"row":483,"column":8},"action":"insert","lines":["    "]},{"start":{"row":484,"column":0},"end":{"row":484,"column":4},"action":"insert","lines":["    "]},{"start":{"row":485,"column":2},"end":{"row":485,"column":4},"action":"insert","lines":["  "]},{"start":{"row":489,"column":0},"end":{"row":489,"column":2},"action":"insert","lines":["  "]},{"start":{"row":490,"column":0},"end":{"row":490,"column":1},"action":"insert","lines":[" "]},{"start":{"row":490,"column":5},"end":{"row":490,"column":8},"action":"insert","lines":["   "]},{"start":{"row":491,"column":0},"end":{"row":491,"column":1},"action":"insert","lines":[" "]},{"start":{"row":491,"column":7},"end":{"row":491,"column":12},"action":"insert","lines":["     "]},{"start":{"row":492,"column":0},"end":{"row":492,"column":3},"action":"insert","lines":["   "]},{"start":{"row":492,"column":11},"end":{"row":492,"column":16},"action":"insert","lines":["     "]},{"start":{"row":493,"column":0},"end":{"row":493,"column":8},"action":"insert","lines":["        "]},{"start":{"row":494,"column":0},"end":{"row":494,"column":4},"action":"insert","lines":["    "]},{"start":{"row":494,"column":14},"end":{"row":494,"column":20},"action":"insert","lines":["      "]},{"start":{"row":495,"column":0},"end":{"row":495,"column":11},"action":"insert","lines":["           "]},{"start":{"row":495,"column":23},"end":{"row":495,"column":24},"action":"insert","lines":[" "]},{"start":{"row":496,"column":14},"end":{"row":496,"column":28},"action":"insert","lines":["              "]},{"start":{"row":497,"column":0},"end":{"row":497,"column":2},"action":"insert","lines":["  "]},{"start":{"row":497,"column":16},"end":{"row":497,"column":28},"action":"insert","lines":["            "]},{"start":{"row":498,"column":0},"end":{"row":498,"column":5},"action":"insert","lines":["     "]},{"start":{"row":498,"column":17},"end":{"row":498,"column":24},"action":"insert","lines":["       "]},{"start":{"row":499,"column":0},"end":{"row":499,"column":12},"action":"insert","lines":["            "]},{"start":{"row":500,"column":14},"end":{"row":500,"column":28},"action":"insert","lines":["              "]},{"start":{"row":501,"column":0},"end":{"row":501,"column":1},"action":"insert","lines":[" "]},{"start":{"row":501,"column":15},"end":{"row":501,"column":28},"action":"insert","lines":["             "]},{"start":{"row":502,"column":12},"end":{"row":502,"column":24},"action":"insert","lines":["            "]},{"start":{"row":503,"column":0},"end":{"row":506,"column":2},"action":"insert","lines":["                    }","                }","","  "]},{"start":{"row":507,"column":9},"end":{"row":509,"column":7},"action":"remove","lines":["","","      }"]},{"start":{"row":509,"column":0},"end":{"row":510,"column":0},"action":"remove","lines":["  }",""]},{"start":{"row":512,"column":2},"end":{"row":512,"column":4},"action":"insert","lines":["  "]},{"start":{"row":513,"column":2},"end":{"row":513,"column":4},"action":"insert","lines":["  "]},{"start":{"row":514,"column":0},"end":{"row":514,"column":4},"action":"insert","lines":["    "]},{"start":{"row":515,"column":0},"end":{"row":515,"column":4},"action":"insert","lines":["    "]},{"start":{"row":516,"column":4},"end":{"row":516,"column":8},"action":"insert","lines":["    "]},{"start":{"row":517,"column":0},"end":{"row":517,"column":2},"action":"insert","lines":["  "]},{"start":{"row":517,"column":6},"end":{"row":517,"column":8},"action":"insert","lines":["  "]},{"start":{"row":518,"column":0},"end":{"row":518,"column":4},"action":"insert","lines":["    "]},{"start":{"row":519,"column":4},"end":{"row":519,"column":8},"action":"insert","lines":["    "]},{"start":{"row":520,"column":2},"end":{"row":520,"column":4},"action":"insert","lines":["  "]},{"start":{"row":521,"column":0},"end":{"row":521,"column":2},"action":"insert","lines":["  "]},{"start":{"row":526,"column":2},"end":{"row":526,"column":4},"action":"insert","lines":["  "]},{"start":{"row":527,"column":0},"end":{"row":527,"column":2},"action":"insert","lines":["  "]},{"start":{"row":528,"column":2},"end":{"row":528,"column":4},"action":"insert","lines":["  "]},{"start":{"row":529,"column":0},"end":{"row":529,"column":1},"action":"insert","lines":[" "]},{"start":{"row":529,"column":3},"end":{"row":529,"column":4},"action":"insert","lines":[" "]},{"start":{"row":530,"column":0},"end":{"row":530,"column":2},"action":"insert","lines":["  "]},{"start":{"row":531,"column":2},"end":{"row":531,"column":4},"action":"insert","lines":["  "]},{"start":{"row":532,"column":2},"end":{"row":532,"column":4},"action":"insert","lines":["  "]},{"start":{"row":533,"column":0},"end":{"row":533,"column":1},"action":"insert","lines":[" "]},{"start":{"row":533,"column":3},"end":{"row":533,"column":4},"action":"insert","lines":[" "]},{"start":{"row":534,"column":0},"end":{"row":534,"column":2},"action":"insert","lines":["  "]},{"start":{"row":535,"column":2},"end":{"row":535,"column":4},"action":"insert","lines":["  "]},{"start":{"row":536,"column":0},"end":{"row":536,"column":1},"action":"insert","lines":[" "]},{"start":{"row":536,"column":3},"end":{"row":536,"column":4},"action":"insert","lines":[" "]},{"start":{"row":540,"column":2},"end":{"row":540,"column":4},"action":"insert","lines":["  "]},{"start":{"row":541,"column":0},"end":{"row":541,"column":3},"action":"insert","lines":["   "]},{"start":{"row":541,"column":7},"end":{"row":541,"column":8},"action":"insert","lines":[" "]},{"start":{"row":542,"column":0},"end":{"row":542,"column":2},"action":"insert","lines":["  "]},{"start":{"row":543,"column":2},"end":{"row":543,"column":4},"action":"insert","lines":["  "]},{"start":{"row":544,"column":0},"end":{"row":544,"column":1},"action":"insert","lines":[" "]},{"start":{"row":544,"column":3},"end":{"row":544,"column":4},"action":"insert","lines":[" "]},{"start":{"row":546,"column":0},"end":{"row":546,"column":2},"action":"insert","lines":["  "]},{"start":{"row":547,"column":0},"end":{"row":547,"column":2},"action":"insert","lines":["  "]},{"start":{"row":547,"column":6},"end":{"row":547,"column":8},"action":"insert","lines":["  "]},{"start":{"row":549,"column":4},"end":{"row":549,"column":8},"action":"insert","lines":["    "]},{"start":{"row":550,"column":0},"end":{"row":550,"column":6},"action":"insert","lines":["      "]},{"start":{"row":551,"column":8},"end":{"row":551,"column":16},"action":"insert","lines":["        "]},{"start":{"row":552,"column":0},"end":{"row":552,"column":3},"action":"insert","lines":["   "]},{"start":{"row":552,"column":11},"end":{"row":552,"column":16},"action":"insert","lines":["     "]},{"start":{"row":553,"column":0},"end":{"row":553,"column":5},"action":"insert","lines":["     "]},{"start":{"row":553,"column":11},"end":{"row":553,"column":12},"action":"insert","lines":[" "]},{"start":{"row":554,"column":0},"end":{"row":554,"column":4},"action":"insert","lines":["    "]},{"start":{"row":555,"column":0},"end":{"row":555,"column":4},"action":"insert","lines":["    "]},{"start":{"row":556,"column":0},"end":{"row":556,"column":4},"action":"insert","lines":["    "]},{"start":{"row":556,"column":10},"end":{"row":556,"column":12},"action":"insert","lines":["  "]},{"start":{"row":557,"column":0},"end":{"row":557,"column":8},"action":"insert","lines":["        "]},{"start":{"row":558,"column":8},"end":{"row":558,"column":16},"action":"insert","lines":["        "]},{"start":{"row":559,"column":0},"end":{"row":559,"column":5},"action":"insert","lines":["     "]},{"start":{"row":559,"column":11},"end":{"row":559,"column":12},"action":"insert","lines":[" "]},{"start":{"row":560,"column":0},"end":{"row":560,"column":4},"action":"insert","lines":["    "]},{"start":{"row":561,"column":0},"end":{"row":561,"column":4},"action":"insert","lines":["    "]},{"start":{"row":562,"column":0},"end":{"row":562,"column":3},"action":"insert","lines":["   "]},{"start":{"row":562,"column":9},"end":{"row":562,"column":12},"action":"insert","lines":["   "]},{"start":{"row":563,"column":0},"end":{"row":563,"column":8},"action":"insert","lines":["        "]},{"start":{"row":564,"column":8},"end":{"row":564,"column":16},"action":"insert","lines":["        "]},{"start":{"row":565,"column":0},"end":{"row":565,"column":3},"action":"insert","lines":["   "]},{"start":{"row":565,"column":9},"end":{"row":565,"column":12},"action":"insert","lines":["   "]},{"start":{"row":566,"column":0},"end":{"row":566,"column":3},"action":"insert","lines":["   "]},{"start":{"row":566,"column":7},"end":{"row":566,"column":8},"action":"insert","lines":[" "]},{"start":{"row":567,"column":0},"end":{"row":567,"column":4},"action":"insert","lines":["    "]},{"start":{"row":568,"column":0},"end":{"row":568,"column":1},"action":"insert","lines":[" "]},{"start":{"row":568,"column":7},"end":{"row":568,"column":12},"action":"insert","lines":["     "]},{"start":{"row":569,"column":0},"end":{"row":569,"column":6},"action":"insert","lines":["      "]},{"start":{"row":570,"column":8},"end":{"row":570,"column":16},"action":"insert","lines":["        "]},{"start":{"row":571,"column":0},"end":{"row":571,"column":5},"action":"insert","lines":["     "]},{"start":{"row":571,"column":11},"end":{"row":571,"column":12},"action":"insert","lines":[" "]},{"start":{"row":572,"column":0},"end":{"row":572,"column":4},"action":"insert","lines":["    "]},{"start":{"row":574,"column":0},"end":{"row":574,"column":4},"action":"insert","lines":["    "]},{"start":{"row":575,"column":6},"end":{"row":575,"column":12},"action":"insert","lines":["      "]},{"start":{"row":576,"column":0},"end":{"row":576,"column":1},"action":"insert","lines":[" "]},{"start":{"row":576,"column":5},"end":{"row":576,"column":8},"action":"insert","lines":["   "]},{"start":{"row":577,"column":0},"end":{"row":577,"column":4},"action":"insert","lines":["    "]},{"start":{"row":579,"column":6},"end":{"row":579,"column":12},"action":"insert","lines":["      "]},{"start":{"row":580,"column":0},"end":{"row":580,"column":6},"action":"insert","lines":["      "]},{"start":{"row":581,"column":6},"end":{"row":581,"column":12},"action":"insert","lines":["      "]},{"start":{"row":582,"column":0},"end":{"row":582,"column":5},"action":"insert","lines":["     "]},{"start":{"row":582,"column":11},"end":{"row":582,"column":12},"action":"insert","lines":[" "]},{"start":{"row":583,"column":0},"end":{"row":583,"column":5},"action":"insert","lines":["     "]},{"start":{"row":583,"column":11},"end":{"row":583,"column":12},"action":"insert","lines":[" "]},{"start":{"row":584,"column":4},"end":{"row":584,"column":8},"action":"insert","lines":["    "]},{"start":{"row":585,"column":0},"end":{"row":585,"column":1},"action":"insert","lines":[" "]},{"start":{"row":585,"column":3},"end":{"row":585,"column":4},"action":"insert","lines":[" "]},{"start":{"row":586,"column":0},"end":{"row":586,"column":2},"action":"insert","lines":["  "]},{"start":{"row":590,"column":2},"end":{"row":590,"column":4},"action":"insert","lines":["  "]},{"start":{"row":591,"column":0},"end":{"row":591,"column":1},"action":"insert","lines":[" "]},{"start":{"row":591,"column":3},"end":{"row":591,"column":4},"action":"insert","lines":[" "]},{"start":{"row":592,"column":0},"end":{"row":592,"column":2},"action":"insert","lines":["  "]},{"start":{"row":593,"column":0},"end":{"row":593,"column":2},"action":"insert","lines":["  "]},{"start":{"row":593,"column":6},"end":{"row":593,"column":8},"action":"insert","lines":["  "]},{"start":{"row":594,"column":2},"end":{"row":594,"column":4},"action":"insert","lines":["  "]},{"start":{"row":595,"column":0},"end":{"row":595,"column":2},"action":"insert","lines":["  "]},{"start":{"row":596,"column":2},"end":{"row":596,"column":4},"action":"insert","lines":["  "]},{"start":{"row":597,"column":0},"end":{"row":597,"column":4},"action":"insert","lines":["    "]},{"start":{"row":598,"column":4},"end":{"row":598,"column":8},"action":"insert","lines":["    "]},{"start":{"row":599,"column":0},"end":{"row":599,"column":6},"action":"insert","lines":["      "]},{"start":{"row":600,"column":0},"end":{"row":600,"column":1},"action":"insert","lines":[" "]},{"start":{"row":600,"column":9},"end":{"row":600,"column":16},"action":"insert","lines":["       "]},{"start":{"row":601,"column":8},"end":{"row":601,"column":16},"action":"insert","lines":["        "]},{"start":{"row":602,"column":6},"end":{"row":602,"column":12},"action":"insert","lines":["      "]},{"start":{"row":603,"column":0},"end":{"row":603,"column":2},"action":"insert","lines":["  "]},{"start":{"row":603,"column":6},"end":{"row":603,"column":8},"action":"insert","lines":["  "]},{"start":{"row":607,"column":0},"end":{"row":607,"column":4},"action":"insert","lines":["    "]},{"start":{"row":608,"column":4},"end":{"row":608,"column":8},"action":"insert","lines":["    "]},{"start":{"row":609,"column":0},"end":{"row":609,"column":2},"action":"insert","lines":["  "]},{"start":{"row":609,"column":6},"end":{"row":609,"column":8},"action":"insert","lines":["  "]},{"start":{"row":610,"column":0},"end":{"row":610,"column":4},"action":"insert","lines":["    "]},{"start":{"row":611,"column":4},"end":{"row":611,"column":8},"action":"insert","lines":["    "]},{"start":{"row":612,"column":0},"end":{"row":612,"column":1},"action":"insert","lines":[" "]},{"start":{"row":612,"column":3},"end":{"row":612,"column":4},"action":"insert","lines":[" "]},{"start":{"row":615,"column":0},"end":{"row":615,"column":2},"action":"insert","lines":["  "]},{"start":{"row":619,"column":2},"end":{"row":619,"column":4},"action":"insert","lines":["  "]},{"start":{"row":620,"column":0},"end":{"row":620,"column":1},"action":"insert","lines":[" "]},{"start":{"row":620,"column":3},"end":{"row":620,"column":4},"action":"insert","lines":[" "]},{"start":{"row":621,"column":0},"end":{"row":621,"column":2},"action":"insert","lines":["  "]},{"start":{"row":622,"column":2},"end":{"row":622,"column":4},"action":"insert","lines":["  "]},{"start":{"row":623,"column":0},"end":{"row":623,"column":1},"action":"insert","lines":[" "]},{"start":{"row":623,"column":5},"end":{"row":623,"column":8},"action":"insert","lines":["   "]},{"start":{"row":624,"column":2},"end":{"row":624,"column":4},"action":"insert","lines":["  "]},{"start":{"row":625,"column":0},"end":{"row":625,"column":1},"action":"insert","lines":[" "]},{"start":{"row":625,"column":3},"end":{"row":625,"column":4},"action":"insert","lines":[" "]},{"start":{"row":626,"column":0},"end":{"row":626,"column":2},"action":"insert","lines":["  "]},{"start":{"row":627,"column":0},"end":{"row":627,"column":2},"action":"insert","lines":["  "]}]]},"ace":{"folds":[],"scrolltop":3011.5,"scrollleft":0,"selection":{"start":{"row":205,"column":38},"end":{"row":205,"column":38},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":187,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1557855908609,"hash":"5e782a8eaddcd9c6887e37564c6897f1b76477d9"}